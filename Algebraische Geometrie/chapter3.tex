\chapter{Kohomologie}

Wir verwenden folgende Bezeichnungen für abelsche Kategorien:
\begin{itemize}
\item $\mathbf{Ab}$, die Kategorie der abelschen Gruppen
\item $\mathbf{Mod}(A)$, die Kategorie der Moduln über einem kommutativen Ring $A$ mit Eins
\item $\mathbf{Ab}(X)$, die Kategorie der Garben abelscher Gruppen über einem topologischen Raum $X$
\item $\mathbf{Mod}(X)$ oder $\mathbf{Mod}(\mathcal{O}_X)$, die Kategorie der $\mathcal{O}_X$"~Moduln auf einem geringten Raum $X$ mit Strukturgarbe $\mathcal{O}_X$.
\item $\mathbf{Qcoh}(X)$ oder $\mathbf{Qcoh}(\mathcal{O}_X)$, die Kategorie der quasikohärenten $\mathcal{O}_X$"~Moduln auf einem Schema $X$
\item $\mathbf{Coh}(X)$ oder $\mathbf{Coh}(\mathcal{O}_X)$, die Kategorie der kohärenten $\mathcal{O}_X$"~Modulgarben auf einem noetherschen Schema $X$
\end{itemize}

\section{Kohomologie von Garben}

\paragraph{Satz 9.15.}\label{9.15} Sei $A$ ein Ring. Dann ist jeder $A$"~Modul isomorph zu einem Untermodul eines injektiven $A$"~Moduls.

\paragraph{Satz 9.16.}\label{9.16} Sei $(X,\mathcal{O}_X)$ ein geringter Raum. Dann hat die Kategorie $\mathbf{Mod}(\mathcal{O}_X)$ genügend viele Injektive.

\paragraph{Beweis.} Sei $\mathcal{F}\in\mathbf{Mod}(\mathcal{O}_X)$. Dann ist $\mathcal{F}_x\in\mathbf{Mod}(\mathcal{O}_{X,x})$. Nach \hyperref[9.15]{Satz 9.15} gibt es ein Monomorphismus $\mathcal{F}_x\to I_x$ mit einem injektiven $\mathcal{O}_{X,x}$"~Modul $I_x$. Sei $j:\{x\}\hookrightarrow X$ die kanonische Inklusion und betrachte die $I_x$ als Garben auf $\{x\}$. Setze $\mathcal{J}=\prod_{x\in X}j_\ast I_x$. Dann gilt:
\[\operatorname{Hom}_{\mathcal{O}_X}(\mathcal{F},\mathcal{J}) = \prod_{x\in X}\operatorname{Hom}_{\mathcal{O}_X}(\mathcal{F},j_\ast I_x) = \prod_{x\in X}\operatorname{Hom}_{\mathcal{O}_{X,x}}(\mathcal{F}_x,I_x) \]
Die $\mathcal{F}_x\hookrightarrow I_x$ geben ein Monomorphismus $\mathcal{F}\hookrightarrow \mathcal{J}$. Ferner gilt:
\[\operatorname{Hom}_{\mathcal{O}_X}(-,\mathcal{J})=\prod_{x\in X}\operatorname{Hom}_{\mathcal{O}_{X,x}}((-)_x, I_x) \]
Da Halmbildung exakt und $I_x$ injektive Objekte sind, ist dies ein exakter Funktor. Somit ist $\mathcal{J}$ ein injektiver $\mathcal{O}_X$"~Modul.\qed

\paragraph{Korollar 9.17.}\label{9.17} Sei $X$ ein topologischer Raum. Dann besitzt $\mathbf{Ab}(X)$ genügend viele Injektive.

\paragraph{Beweis.} Sei $\mathcal{O}_X$ die konstante Garbe $\mathbb{Z}$ auf $X$. Dann ist $(X,\mathcal{O}_X)$ ein geringter Raum und es gilt $\mathbf{Mod}(\mathcal{O}_X)=\mathbf{Ab}(X)$.\qed

\paragraph{Definition 9.18.}\label{9.18} Sei $X$ ein topologischer Raum und $\Gamma(X,-):\mathbf{Ab}(X)\to \mathbf{Ab}$ der globale Schnittfunktor. Wir definieren:
\[\mathrm{H}^i(X,-)= \mathrm{R}^i\Gamma(X,-) \]
$\mathrm{H}^i(X,\mathcal{F})$ heißt \textit{$i$-te Kohomologiegruppe}\index{Kohomologiegruppe} von der Garbe $\mathcal{F}$. Haben $X$ und $\mathcal{F}$ Zusatzstrukturen, z.B. $X$ Schema oder $\mathcal{F}\in \mathbf{Qcoh}(X)$, so wird die Kohomologie trotzdem immer im obigen Sinne verstanden, d.h. $\mathcal{F}\in\mathbf{Ab}(X)$.

Sei $(X,\mathcal{O}_X)$ ein geringter Raum und $\mathcal{F}$ ein $\mathcal{O}_X$"~Modul. $\mathcal{F}$ heißt\textit{welk}\index{$\mathcal{O}_X$-Modul!welk}, falls für alle offenen $V\subset U$ die Restriktionsabbildung $\mathcal{F}(U)\to\mathcal{F}(V)$ surjektiv ist.

\paragraph{Lemma 9.19.}\label{9.19} Ist $(X,\mathcal{O}_X)$ ein geringter Raum, so ist jeder injektiver $\mathcal{O}_X$"~Modul $\mathcal{J}$ welk.

\paragraph{Beweis.} Seien $i:U\hookrightarrow X$ und $j:V\hookrightarrow X$ die natürlichen Inklusionen. Betrachte die Inklusion $j_!\mathcal{O}_X|_V\hookrightarrow i_!\mathcal{O}_X|_U$ von $\mathcal{O}_X$"~Moduln. Es folgt die Surjektivität von:
\[\mathcal{J}(U) = \operatorname{Hom}(i_!\mathcal{O}_X|_U,\mathcal{J})\to \operatorname{Hom}(j_!\mathcal{O}_X|_V,\mathcal{J})=\mathcal{J}(V)\qedhere \]

\paragraph{Satz 9.20.}\label{9.20} Sei $X$ ein topologischer Raum und $\mathcal{F}$ eine welke Garbe auf $X$. Dann ist $\mathrm{H}^i(X,\mathcal{F})=0$ für alle $i>0$.

\paragraph{Lemma 9.21.}\label{9.21} Sei $X$ ein topologischer Raum. Sei $0\to\mathcal{G}'\to\mathcal{G}\to\mathcal{G}''\to 0$ eine exakte Sequenz von Garben.
\begin{enumerate}[(i)]
\item Ist $\mathcal{G}'$ eine welke Garbe, so ist für alle $U\subset_\text{o}X$ die folgende Sequenz exakt:
\[0\longrightarrow \mathcal{G}'(U)\longrightarrow \mathcal{G}(U)\longrightarrow \mathcal{G}''(U)\longrightarrow 0 \]
\item Sind $\mathcal{G'}$ und $\mathcal{G}$ welk, so auch $\mathcal{G}''$.
\end{enumerate}

\paragraph{Beweis.}
\begin{enumerate}[(i)]
\item Sei o.B.d.A. $U=X$ und sei $s''\in\mathcal{G}''(X)$. Setze:
\[E=\{(U,s)\mid U\subset_\text{o}X,\ s\in\mathcal{G}(U),\ s\mapsto s''|_U \} \]
$E$ ist partiell geordnet bzgl. Inklusion. Jede Kette in $E$ besitzt eine obere Schranke in $E$. Nach Zorns Lemma gibt es ein maximales Element $(U,s)\in E$.

Gibt es ein $x\in X\setminus U$, so existiert eine offene Umgebung $V$ von $x$ und $t\in\mathcal{G}(V)$ mit $t\mapsto s''|_V$, da $\mathcal{G}\to\mathcal{G}''$ surjektiv ist. Da $\mathcal{G}'$ welk ist, so setzt sich $s-t\in\mathcal{G}'(U\cap V)$ zu einem Schnitt auf $\mathcal{G}'(V)$ fort. Ersetzen wir $t$ durch $s-t\in\mathcal{G}'(V)$, können wir o.B.d.A. $s=t$ auf $V$ annehmen. Die Existenz von $(V,s)$ ist ein Widerspruch zur Maximalität von $(U,s)$ Somit folgt $U=X$.
\item Für $V\subset U$ offen in $X$ kommutiert das folgende Diagramm mit exakten Zeilen:
\[\begin{tikzcd}
0 \rar & \mathcal{G}'(U)\rar\dar[two heads] & \mathcal{G}(U)\rar\dar[two heads] & \mathcal{G}''(U)\rar\dar & 0\\
0 \rar & \mathcal{G}'(V)\rar & \mathcal{G}(V)\rar & \mathcal{G}''(V)\rar & 0
\end{tikzcd} \]
Es folgt die Surjektivität von $\mathcal{G}''(U)\to\mathcal{G}''(V)$.\qed
\end{enumerate}

\paragraph{Beweis von \hyperref[9.20]{9.20}.} Sei $0\to\mathcal{F}\to\mathcal{J}\to\mathcal{G}\to 0$ exakt mit $\mathcal{J}$ injektiv. Nun sind $\mathcal{F}$ und $\mathcal{J}$ welk. Nach \hyperref[9.21]{Lemma 9.21} ist auch $\mathcal{G}$ welk und wir haben eine exakte Folge:
\[0\longrightarrow\mathcal{F}(X)\longrightarrow\mathcal{J}(X)\longrightarrow\mathcal{G}(X)\longrightarrow 0 \]
Da $\mathrm{H}^i(X,\mathcal{J})=0$ für alle $i>0$, gilt $\mathrm{H}^1(X,\mathcal{F})=0$ und $\mathrm{H}^i(X,\mathcal{F})=\mathrm{H}^{i-1}(X,\mathcal{G})$ für alle $i\geq 2$. Somit folgt die Aussage per Induktion nach $i$.\qed

\paragraph{Satz 9.22.}\label{9.22} Sei $(X,\mathcal{O}_X)$ ein geringter Raum. Dann sind die derivierten Funktoren von
\[\Gamma(X,-): \mathbf{Mod}(X)\to\mathbf{Ab} \]
gerade die Kohomologie-Funktoren.

\paragraph{Beweis.} $\mathrm{R}^i\Gamma(X,-)$ wird über eine injektive Auflösung in $\mathbf{Mod}(X)$ berechnet. Nun sind injektive Objekte in $\mathbf{Mod}(X)$ nach \hyperref[9.19]{Lemma 9.19} welk und nach \hyperref[9.20]{Satz 9.20} insbesondere azyklisch bzgl. $\Gamma(X,-)$.Somit ist $\mathrm{R}^i\Gamma(X,-)=\mathrm{H}^i(X,-)$.\qed

\paragraph{Bemerkung 9.23.}\label{9.23} Sei $(X,\mathcal{O}_X)$ ein geringter Raum und $\mathcal{F}$ ein $\mathcal{O}_X$"~Modul. Da die Kohomologie durch Auflösungen in der Kategorie $\mathbf{Mod}(X)$ berechnet werden kann, haben alle Kohomologiegruppen von $\mathcal{F}$ eine $A$"~Modulstruktur mit $A=\Gamma(X,\mathcal{O}_X)$.

\paragraph{Lemma 9.24.}\label{9.24} Sei $X$ ein noetherscher topologischer Raum und $\mathcal{F}=\varinjlim_\alpha\mathcal{F}_\alpha$. Dann gilt:
\begin{enumerate}[(i)]
\item $\mathcal{F}(X)=\varinjlim_\alpha\mathcal{F}_\alpha(X)$
\item Sind alle $\mathcal{F}_\alpha$ welk, so auch $\mathcal{F}$.
\end{enumerate}

\paragraph{Beweis.}\begin{enumerate}
\item[(ii)] Für alle $\alpha$ und $V\subset U$ offen in $X$ ist $\mathcal{F}_\alpha(U)\to\mathcal{F}_\alpha(V)$ surjektiv. Da $\varinjlim$ exakt ist, folgt mit (i) die Surjektivität von:
\[\mathcal{F}(U)=\varinjlim_\alpha\mathcal{F}_\alpha(U)\to\varinjlim\mathcal{F}_\alpha(V) = \mathcal{F}(V) \]
\item[(i)] Der Funktor $\Gamma(X,-)$ vertauscht mit $\varinjlim$, siehe z.B. Godement, Topologie algébrique et théorie des faisceaux, p. 169.\qed
\end{enumerate}

\paragraph{Satz 9.25.}\label{9.25} Sei $X$ ein noetherscher topologischer Raum und $(\mathcal{F}_\alpha)_{\alpha\in A}$ ein induktives System in $\mathbf{Ab}(X)$. Dann gibt es einen natürlichen Isomorphismus:
\[\varinjlim\mathrm{H}^i(X,\mathcal{F}_\alpha) \stackrel{\sim}{\to} \mathrm{H}^i(X,\varinjlim\mathcal{F}_\alpha) \]

\paragraph{Beweis.} Für alle $\alpha$ haben wir natürliche Abbildungen $\mathcal{F}_\alpha\to\varinjlim\mathcal{F}_\alpha$. Wir erhalten $\mathrm{H}^i(X,\mathcal{F}_\alpha)\to\mathrm{H}^i(X,\varinjlim\mathcal{F}_\alpha)$ und daher eine Abbildung:
\[\varinjlim\mathrm{H}^i(X,\mathcal{F}_\alpha)\to\mathrm{H}^i(X,\varinjlim\mathcal{F}_\alpha) \]
Dies ist nach \hyperref[9.24]{Lemma 9.24 (i)} für $i=0$ ein Isomorphismus. Betrachte die abelsche Kategorie $\mathbf{Ind}_A(\mathbf{Ab}(X))$ der direkten Limiten von Objekten aus $\mathbf{Ab}(X)$ indiziert durch $A$. Da $\varinjlim$ exakt ist, haben wir eine natürliche Transformation von $\delta$-Funktoren $\mathbf{Ind}_A(\mathbf{Ab}(X))\to\mathbf{Ab}$
\[\varinjlim\mathrm{H}^i(X,-)\to\mathrm{H}^i(X,\varinjlim -) \]
die für $i=0$ übereinstimmt. Jetzt genügt es zu zeigen, dass beide Funktoren auslöschbar sind. Dann sind beide universell und insbesondere gleich.

Sei $(\mathcal{F}_\alpha)\in\mathbf{Ind}_A(\mathbf{Ab}(X))$. Zu $\alpha$ definieren wir die Garbe $\mathcal{G}_\alpha$ wie folgt:
\[U\mapsto \Big\{s:U\to\coprod_{P\in U}(\mathcal{F}_\alpha)_P\mid s(P)\in (\mathcal{F}_\alpha)_P \Big\} \]
Dann ist $\mathcal{G}_\alpha$ welk und $\mathcal{F}_\alpha\hookrightarrow\mathcal{G}_\alpha$. Nach Konstruktion bilden die $\mathcal{G}_\alpha$ ein induktives System und wir erhalten einen Monomorphismus $u:(\mathcal{F}_\alpha)\hookrightarrow (\mathcal{G}_\alpha)$ in $\mathbf{Ind}_A(\mathbf{Ab}(X))$. Ferner gilt $\mathrm{H}^i(X,\mathcal{G}_\alpha)=0$ für alle $i>0$ nach \hyperref[9.20]{Satz 9.20}, also $\varinjlim\mathrm{H}^i(X,\mathcal{G}_\alpha)=0$ für alle $i>0$. Somit ist $\varinjlim\mathrm{H}^i(X,-)$ auslöschbar.

Da $\varinjlim\mathcal{G}_\alpha$ nach \hyperref[9.24]{Satz 9.24 (ii)} welk ist, ist auch $\mathrm{H}^i(X,\varinjlim\mathcal{G}_\alpha)=0$ für alle $i>0$, d.h. auch $\mathrm{H}^i(X,\varinjlim -)$ ist auslöschbar.\qed

\paragraph{Lemma 9.26.}\label{9.26} Sei $Y\subset X$ abgeschlossen mit natürlicher Inklusion $i:Y\hookrightarrow X$ und $\mathcal{F}\in\mathbf{Ab}(Y)$. Dann gilt:
\[\mathrm{H}^i(Y,\mathcal{F})=\mathrm{H}^i(X, i_\ast\mathcal{F}) \]

\paragraph{Beweis.} Sei $\mathcal{J}^\bullet$ eine injektive Auflösung von $\mathcal{F}$ auf $Y$; insbesondere ist $\mathcal{J}^\bullet$ eine welke Auflösung. Dann ist $i_\ast\mathcal{J}^\bullet$ eine welke Auflösung von $i_\ast\mathcal{F}$ auf $X$. Für alle $i$ gilt:
\[\Gamma(Y,\mathcal{J}^i) = \Gamma(X,i_\ast\mathcal{J}^i) \]
Somit ergeben sich die gleichen Kohomologiegruppen.\qed

\paragraph{Satz 9.27.}\label{9.27} \textit{(Verschwindungssatz von Grothendieck)}\index{Verschwindungssatz} Sei $X$ ein noetherscher topologischer Raum der Dimension $n$. Dann gilt für alle abelschen Garben $\mathcal{F}$ auf $X$:
\[\mathrm{H}^i(X,\mathcal{F})=0\quad\text{für alle }i>n \]

\paragraph{Beweis.} Sei $\mathcal{F}$ eine Garbe abelscher Gruppen auf $X$.
\begin{enumerate}
\item Schritt: \textit{(Reduktion auf irreduzible $X$)} Sei $X$ reduzibel und $Y\subset X$ eine irreduzible Komponente mit Einbettungen $i:Y\hookrightarrow X,\ j:U=X\setminus Y\hookrightarrow X$. Nach \hyperref[1.16]{1.16} ist die folgende Garbensequenz exakt:
\[0\longrightarrow \mathcal{F}_U \longrightarrow\mathcal{F}\longrightarrow\mathcal{F}_Y\longrightarrow 0 \]
wobei $\mathcal{F}_U= j_!(\mathcal{F}|_U)$ und $\mathcal{F}_Y=i_\ast(\mathcal{F}|_Y)$ ist. Es genügt zu zeigen, dass $\mathrm{H}^i(X,\mathcal{F}_U)=0=\mathrm{H}^i(X,\mathcal{F}_Y)$ für alle $i>n$ ist. Betrachte $g:\overline{U}\hookrightarrow X$. Nun hat $\overline{U}$ weniger irreduzible Komponenten als $X$. Setze $\mathcal{F}_{\overline{U}}=g^\ast\mathcal{F}_U$. Es folgt nach \hyperref[9.26]{Lemma 9.26}:
\[\mathrm{H}^i(\overline{U},\mathcal{F}_{\overline{U}})=\mathrm{H}^i(X,g_\ast\mathcal{F}_{\overline{U}}) = \mathrm{H}^i(X,\mathcal{F}_U) \]
\[\mathrm{H}^i(X,\mathcal{F}_Y)=\mathrm{H}^i(X,i_\ast\mathcal{F}|_Y)=\mathrm{H}^i(Y,\mathcal{F}|_Y) \]
Per Induktion nach Anzahl der irreduziblen Komponenten von $X$ können wir ohne Einschränkung $X$ als irreduzibel annehmen.
\item Schritt: Sei $X$ irreduzibel und $\dim(X)=0$. Die einzigen offenen Mengen von $X$ sind $\varnothing$ und $X$, d.h. $\Gamma(X,-):\mathbf{Ab}(X)\to\mathbf{Ab}$ ist eine Äquivalenz von Kategorien. Insbesondere ist $\Gamma(X,-)$ exakt, d.h. $\mathrm{H}^i(X,\mathcal{F})=0$ für alle $i>0$.
\item Schritt: Sei $X$ irreduzibel und $\dim(X)=n$. Sei $j:U\hookrightarrow X$ offen und $s\in\mathcal{F}(U)$. Da
\[\mathcal{F}(U)=\operatorname{Hom}(\mathbb{Z},\mathcal{F}(U))=\operatorname{Hom}_U(\mathbb{Z}|_U,\mathcal{F}|_U)=\operatorname{Hom}_X(j_!(\mathbb{Z}|_U),\mathcal{F}) \]
wobei $\mathbb{Z}|_U$ die konstante Garbe bezeichnet, entspricht $s$ einen Morphismus $j_!(\mathbb{Z}|_U)\to\mathcal{F}$. Setze $\mathcal{F}_s=\operatorname{im}(j_!(\mathbb{Z}|_U)\to\mathcal{F})$. $\mathcal{F}_s$ heißt die von $s$ erzeugte Untergarbe von $\mathcal{F}$. Sei $\alpha=(s_i)_{i\in I},\ s_i\in\mathcal{F}(U_i)$ eine beliebige Familie von Schnitten. Setze:
\[\mathcal{F}_\alpha = \sum_{i\in I}\mathcal{F}_{s_i}\subset\mathcal{F}\]
Sei $J$ die Menge aller endlichen Familien $\alpha=(s_i)$. $J$ wird mit der folgenden par\-tiel\-len Ordnung zu einem gerichteten System:
\[\alpha'\leq\alpha\iff \alpha'\text{ ist Unterfamilie von }\alpha \]
Für $\alpha'\leq\alpha$ gilt $\mathcal{F}_{\alpha'}\subset\mathcal{F}_\alpha$. Somit ist $\mathcal{F}=\varinjlim_{\alpha\in J}\mathcal{F}_\alpha$. Nach \hyperref[9.25]{Satz 9.25} reicht es zu zeigen, dass $\mathrm{H}^i(X,\mathcal{F}_\alpha)=0$ für alle $i>n$ und alle $\alpha\in J$.

Sei nun $\alpha'\leq\alpha$. Betrachte die exakte Sequenz $0\to\mathcal{F}_{\alpha'}\to\mathcal{F}_\alpha\to\mathcal{G}\to 0$. $\mathcal{G}$ ist erzeugt von $\#\alpha - \#\alpha'$ Schnitten über geeignete offenen Mengen. Per Induktion nach $\#\alpha$ können wir unter Betrachtung der langen exakten Kohomologiefolge o.B.d.A. annehmen, dass $\mathcal{F}$ von einem Schnitt über einer geeigneten offenen Menge $U$ erzeugt wird, d.h. $\mathcal{F}=\mathcal{F}_s$. Die zu $s$ gehörige Morphismus $\mathbb{Z}_U=j_!(\mathbb{Z}|_U)\to\mathcal{F}$ ist surjektiv.

Definiere die Garbe $\mathcal{R}$ durch die exakte Folge $0\to\mathcal{R}\to\mathbb{Z}_U\to\mathcal{F}\to 0$. Unter Betrachtung der langen exakten Kohomologiefolge genügt es zu zeigen, dass $\mathrm{H}^i(X,\mathcal{R})=0=\mathrm{H}^i(X,\mathbb{Z}_U)$ für alle $i>n$ ist.
\item Schritt: Wir zeigen $\mathrm{H}^i(X,\mathcal{R})=0$ für alle $i>n$ per Induktion über $n=\dim(X)$. Für $x\in U$ ist $\mathcal{R}_x$ eine Untergruppe von $\mathbb{Z}$. Ist $\mathcal{R} = 0$, so folgt $\mathcal{F}\cong\mathbb{Z}_U$. Sei nun $\mathcal{R}\neq 0$. Setze:
\[d=\min\{m>0\mid m\in\mathcal{R}_x,\ x\in U\} \]
Es existiert ein $\varnothing\neq V\subset_\text{o}U$ mit $\mathcal{R}|_V\cong d\cdot\mathbb{Z}|_V\subset \mathbb{Z}|_V$. Wir erhalten $\mathcal{R}_V=j_!(\mathcal{R}|_V)=\mathbb{Z}_V$, wobei $j:V\hookrightarrow X$ die kanonische Inklusion ist. Wir erhalten die exakte Sequenz:
\[0\longrightarrow\mathbb{Z}_V\longrightarrow\mathcal{R}\longrightarrow\mathcal{R}/\mathbb{Z}_V\longrightarrow 0 \]
Nun gilt $\operatorname{supp}(\mathcal{R}/\mathbb{Z}_V)\subset\overline{U\setminus V}\subset X$. Da $X$ irreduzibel ist, gilt $\dim(\overline{U\setminus V})<n$. Aus der Induktionsannahme folgt mit \hyperref[9.26]{Lemma 9.26} für alle $i\geq n$:
\[\mathrm{H}^i(X,\mathcal{R}/\mathbb{Z}_V) = \mathrm{H}^i(\overline{U\setminus V},\mathcal{R}/\mathbb{Z}_V|_{\overline{U\setminus V}})=0 \]
Nach der langen exakten Kohomologiesequenz reicht es zu zeigen, dass $\mathrm{H}^i(X,\mathbb{Z}_V)=0$ für $i>n$ gilt.
\item Schritt: Wir zeigen $\mathrm{H}^i(X,\mathbb{Z}_V)=0$ für alle $i>n$ per Induktion über $n=\dim(X)$. Sei $U\subset_\text{o}X$ und $Y=X\setminus U$. Dann ist $0\to\mathbb{Z}_U\to\mathbb{Z}\to\mathbb{Z}_Y\to 0$ exakt nach \hyperref[1.16]{1.16}. Wegen $\dim(Y)<\dim(X)$ folgt nach der Induktionsannahme und \hyperref[9.26]{Lemma 9.26} für alle $i\geq n$:
\[\mathrm{H}^i(X,\mathbb{Z}_Y)=\mathrm{H}^i(Y,\mathbb{Z}|_Y)=0 \]
Ferner ist die konstante Garbe $\mathbb{Z}$ welk. Nach \hyperref[9.20]{Satz 9.20} folgt $\mathrm{H}^i(X,\mathbb{Z})=0$ für alle $i>0$. Die lange exakte Kohomologiesequenz liefert $\mathrm{H}^i(X,\mathbb{Z}_U)=0$ für $i>n$.\qed
\end{enumerate}

\paragraph{Satz 9.28.}\label{9.28} Sei $X=\operatorname{Spec}(A)$ noethersch. Dann ist $\mathrm{H}^i(X,\mathcal{F})=0$ für alle $i>0$ und alle quasikohärenten Garben $\mathcal{F}$.

\paragraph{Bemerkung.} Dieser Satz gilt auch für nicht-noethersche Ringe $A$.

\paragraph{Satz von Krull.}\index{Satz von Krull}\label{prop:krull} Sei $A$ ein noetherscher Ring, $\mathfrak{a}\subset A$ ein Ideal und $M\subset N$ endlich erzeugte $A$"~Moduln. Dann ist die $\mathfrak{a}$-adische Topologie auf $M$ induziert von der $\mathfrak{a}$-adischen Topologie auf $N$, d.h:
\[\forall n\geq 0,\ \exists m\geq n:\ \mathfrak{a}^nM\supset\mathfrak{a}^mN\cap M \]

\paragraph{Beweis.} Siehe beispielsweise Bosch: Algebraic Geometry and Commutative Algebra, 2.3. Lemma 1.\qed

\paragraph{Definition.} Sei $A$ ein Ring, $\mathfrak{a}\subset A$ ein Ideal und $M$ ein $A$"~Modul. Wir definieren:
\[\Gamma_\mathfrak{a}(M)=\{m\in M\mid\exists n>0:\ \mathfrak{a}^nm=0 \} \]

\paragraph{Lemma 9.29.}\label{9.29} Sei $A$ noethersch, $\mathfrak{a}\subset A$ ein Ideal und $I$ ein injektiver $A$"~Modul. Dann ist $\Gamma_\mathfrak{a}(I)$ ebenfalls injektiv.

\paragraph{Beweis.} Setze $J=\Gamma_\mathfrak{a}(I)$. Wir zeigen zunächst: Für alle Ideale $\mathfrak{b}\subset A$ und alle $A$-Modulhomomorphismen $\varphi:\mathfrak{b}\to J$ gibt es einen $A$-Modulhomomorphismus $\psi:A\to J$ mit $\psi|_\mathfrak{b}=\varphi$.

Sei $\mathfrak{b}\subset A$ ein notwendigerweise endlich erzeugtes Ideal und $\varphi:\mathfrak{b}\to J$ ein $A$-Modulhomomorphismus. Zu $x\in J$ gibt es nach Definition ein $n>0$ mit $\mathfrak{a}^nx=0$. Da $\mathfrak{b}$ endlich erzeugt ist, existiert ein $n$ mit:
\[0=\mathfrak{a}^n\varphi(\mathfrak{b})=\varphi(\mathfrak{a}^n\mathfrak{b}) \]
Nach dem \hyperref[prop:krull]{Satz von Krull} gibt es ein $m\geq n$ mit $\mathfrak{a}^n\mathfrak{b}\supset\mathfrak{b}\cap\mathfrak{a}^m$, also $\varphi(\mathfrak{b}\cap\mathfrak{a}^m)=0$. Somit faktorisiert $\varphi$ über $\mathfrak{b}/(\mathfrak{b}\cap\mathfrak{a}^m)$:
\[\begin{tikzcd}
A \rar & A/\mathfrak{a}^m\ar[rrd, dashed] &&\\
\mathfrak{b} \uar[hook]\rar & \mathfrak{b}/(\mathfrak{b}\cap\mathfrak{a}^m) \uar[hook]\rar & J\rar[hook] & I
\end{tikzcd}\]
Da $I$ injektiv ist, gibt es eine Fortsetzung $\psi':A/\mathfrak{a}^m\to I$ von $\varphi$, das obiges Diagramm kommutativ macht. Nun gilt $\mathfrak{a}^m\psi'(A/\mathfrak{a}^m)=0$, d.h. $\psi'(A/\mathfrak{a}^m)\subset J$. Somit ist $\psi:A\to A/\mathfrak{a}^m\to J$ eine Fortsetzung von $\varphi:\mathfrak{b}\to J$.

Sei nun $X$ ein $A$-Modul, $X'\subset X$ ein Untermodul und $f:X'\to J$ ein Homomorphismus. Betrachte:
\[\Sigma=\{(Y,g)\mid Y\subset X\text{ Untermodul},\ X'\subset Y,\ g:Y\to J,\ g|_{X'}=f \} \]
Dann ist $(X',f)\in\Sigma$ und $\Sigma$ ist induktiv geordnet. Nach Zorn gibt es ein maximales Element $(Y,g)\in\Sigma$. Angenommen, $Y\neq X$. Dann gibt es ein $x\in X\setminus Y$. Betrachte das Ideal $\mathfrak{b}=\{\lambda\in A\mid\lambda x\in Y\}\subset A$ und den $A$-Modulhomomorphismus $\varphi:\mathfrak{b}\to J,\ \lambda\mapsto g(\lambda x)$. Diese können wir zu einem $\psi:A\to J$ fortsetzen. Definiere $g':\langle Y,x\rangle\to J$ durch $g'|_Y=g$ und $g'(x)=\psi(1)$. Diese Abbildung ist ein wohldefinierter $A$-Modulhomomorphismus, da $g'(y+\lambda x)=g'(y)+\psi(\lambda)$ für $y\in Y,\ \lambda\in A$ und ist $\lambda x\in Y$, so folgt $\lambda\in\mathfrak{b}$, d.h. $\psi(\lambda)=\varphi(\lambda)=g(\lambda x)=g'(\lambda x)$. Dies ist ein Widerspruch zur Maximalität von $(Y,g)$, daher folgt $Y=X$.\qed

\paragraph{Satz 9.30.}\label{9.30} Sei $A$ ein noetherscher Ring und $I$ ein injektiver $A$-Modul. Dann ist die Garbe $\widetilde{I}$ welk über $\operatorname{Spec}(A)$.

\paragraph{Lemma 9.31.}\label{9.31} Sei $A$ ein noetherscher Ring und $I$ ein injektiver $A$-Modul. Dann ist für jedes $f\in A$ die natürliche Abbildung $\theta:I\to I_f$ surjektiv.

\paragraph{Beweis.} Betrachte die folgenden Ideale in $A$:
\[\mathfrak{b}_i=\operatorname{ann}(f^i)= \{x\in A\mid f^ix=0\} \]
Dann gilt $\mathfrak{b}_1\subset\mathfrak{b}_2\subset\ldots\subset\mathfrak{b}_r=\mathfrak{b}_{r+1}=\ldots$ für ein $r$. Sei $x\in I_f$. Dann gibt es ein $y\in I$ und ein $n\geq 0$ mit $x=\frac{\theta(y)}{f^n}$. Definiere den $A$-Modulhomomorphismus:
\[\varphi: (f^{n+r})\to I,\ f^{n+r}\mapsto f^ry \]
Dieser ist wohldefiniert, da $\operatorname{ann}(f^{n+r})= \mathfrak{b}_{n+r}=\mathfrak{b}_r = \operatorname{ann}(f^r)\subset\operatorname{ann}(f^ry)$. Da $I$ injektiv ist, gibt es eine Fortsetzung $\psi:A\to I$ von $\varphi$. Sei $z=\psi(1)$. Dann gilt $f^{n+r}z=f^ry$, also $\theta(z)=\frac{\theta(y)}{f^n}=x$.\qed

\paragraph{Beweis von \hyperref[9.30]{9.30}.} Sei $Y=\overline{\operatorname{supp}(\widetilde{I})}$. Besteht $Y$ nur aus einem abgeschlossenen Punkt, so ist $\widetilde{I}$ eine Wolkenkratzergarbe und somit welk.

Sei nun $Y$ größer und die Aussage für alle kleineren $Y$ bewiesen. Es genügt zu zeigen, dass alle Restriktionsabbildungen der Form $\Gamma(X,\widetilde{I})\to\Gamma(U,\widetilde{I})$ surjektiv sind. Sei $U\subset_\text{o}X$. Ist $Y\cap U=\varnothing$, so ist nichts zu zeigen. Sei $Y\cap U\neq\varnothing$. Es existiert ein $f\in A$ mit $X_f=D(f)\subset U$ und $X_f\cap Y\neq\varnothing$. Setze $Z=X\setminus X_f$ und $\Gamma_Z(U,\widetilde{I})=\{s\in\Gamma(U,\widetilde{I})\mid\operatorname{supp}(s)\subset Z \}$. Betrachte:
\[\begin{tikzcd}
\Gamma(X,\widetilde{I})\rar & \Gamma(U,\widetilde{I})\rar & \Gamma(X_f,\widetilde{I})\\
\Gamma_Z(X,\widetilde{I})\rar\uar[hook] & \Gamma_Z(U,\widetilde{I}) \uar[hook]&
\end{tikzcd} \]
Sei $s\in\Gamma(U,\widetilde{I})$ und betrachte die Restriktion $s'\in\Gamma(X_f,\widetilde{I})=I_f$. Nach \hyperref[9.31]{Lemma 9.31} gibt es ein $t\in I=\Gamma(X,\widetilde{I})$ mit $t|_{X_f}=s'$. Sein $t'$ die Restriktion von $t$ auf $U$. Dann ist $(s-t')|_{X_f}=0$, also $\operatorname{supp}(s-t')\subset Z$. Bleibt noch zu zeigen, dass $\Gamma_Z(X,\widetilde{I})\to\Gamma_Z(U,\widetilde{I})$ surjektiv ist. Dann existiert nämlich ein Urbild $x\in\Gamma_Z(X,\widetilde{I})$ von $s-t'$ und daher:
\[(x+t)|_U=s-t'+t'=s\]
Sei $J=\Gamma_Z(X,\widetilde{I})$ und $\mathfrak{a}=(f)\subset A$. Dann ist $J=\Gamma_\mathfrak{a}(I)$. Nach \hyperref[9.29]{Lemma 9.29} ist $J$ ein injektiver $A$-Modul mit $\operatorname{supp}(\widetilde{J})\subset Y\cap Z\subsetneq Y$. Nach Induktionsannahme ist $\widetilde{J}$ welk, also ist die Restriktionsabbildung surjektiv:
\[\Gamma_Z(X,\widetilde{I}) = \Gamma(X,\widetilde{J})\to \Gamma(U,\widetilde{J})=\Gamma_Z(U,\widetilde{I})\qedhere \]

\paragraph{Beweis von \hyperref[9.28]{9.28}.} Sei $\mathcal{F}=\widetilde{M}$ eine quasikohärente Garbe über einem noetherschen Ring $A$. Sei $0\to M\to I^\bullet$ eine injektive Auflösung in $\mathbf{Mod}(A)$. Wir erhalten eine exakte Folge $0\to\mathcal{F}\to\widetilde{I}^\bullet$. Nach \hyperref[9.30]{Satz 9.30} sind alle $\widetilde{I}^i$ welk und somit azyklisch für $\Gamma(X,-)$. Daher kann diese Auflösung zur Kohomologieberechnung benutzt werden. Anwendung von $\Gamma(X,-)$ gibt gerade die exakte Sequenz $0\to M\to I^\bullet$. Also ist $\mathrm{H}^i(X,\mathcal{F})=0$ für alle $i>0$.\qed

\paragraph{Korollar 9.32.}\label{9.32} Sei $X$ ein noethersches Schema und $\mathcal{F}\in\mathbf{Qcoh}(X)$. Dann kann $\mathcal{F}$ in eine welke quasikohärente Garbe eingebettet werden.

\paragraph{Beweis.} Sei $X=\bigcup_i U_i$ eine endliche, offen affine Überdeckung mit $U_i=\operatorname{Spec}(A_i)$ und $\mathcal{F}|_{U_i}\cong\widetilde{M_i}$. Setze:
\[\mathcal{G} =\bigoplus_i f_{i\ast}\widetilde{I_i} \]
wobei $f_i:U_i\hookrightarrow X$ die kanonische Inklusion und $M_i\hookrightarrow I_i$ mit injektivem $I_i$. Es folgt $\mathcal{F}|_{U_i}=\widetilde{M_i} \hookrightarrow\widetilde{I_i}$. Betrachte den kanonischen Morphismus $\mathcal{F}\to f_{i\ast}f_i^\ast\mathcal{F}=f_{i\ast}\mathcal{F}|_{U_i}\to f_{i\ast}\widetilde{I_i}$. Dieser induziert einen Morphismus $\mathcal{F}\to\bigoplus_i f_{i\ast}\widetilde{I_i}=\mathcal{G}$. Betrachtet man die Halme, so sieht man, dass dieser Morphismus injektiv ist.

Nach \hyperref[9.30]{Satz 9.30} sind $\widetilde{I_i}$ alle welk, daher sind die $f_{i\ast}\widetilde{I_i}$ welk und somit auch $\mathcal{G}$. Da alle $\widetilde{I_i}$ quasikohärent sind, sind auch alle $f_{i\ast}\widetilde{I_i}$ quasikohärent nach \hyperref[5.13]{Satz 5.13 (iii)} und somit ist auch $\mathcal{G}$ quasikohärent.\qed

\paragraph{Theorem 9.33.}\label{9.33} \textit{(Serre)} Sei $X$ ein noethersches Schema. Dann sind folgende Aussagen äquivalent:
\begin{enumerate}[(i)]
\item $X$ ist affin.
\item $\mathrm{H}^i(X,\mathcal{F})=0$ für alle quasikohärenten $\mathcal{F}$ und $i>0$.
\item $\mathrm{H}^1(X,\mathcal{J})=0$ für alle kohärenten Idealgarben $\mathcal{J}$.
\end{enumerate}

\paragraph{Beweis.} Siehe z.B. Hartshorne: Algebraic Geometry III 3.7.\qed

\section{Der Čech-Komplex}

\paragraph{Definition 10$-\varepsilon$.1.}\label{9.5.1} Sei $X$ ein topologischer Raum, $\mathcal{F}$ eine Prägarbe abelscher Gruppen auf $X$, $I$ eine total geordnete Indexmenge und $\mathcal{U}=(U_i)_{i\in I}$ eine offene Überdeckung von $X$. Wir definieren:
\[C^k(\mathcal{U},\mathcal{F})=\prod_{i_0<\ldots<i_k}\mathcal{F}(U_{i_0}\cap\cdots\cap U_{i_k}),\quad k\geq 0 \]
mit Randoperatoren
\[d: C^k(\mathcal{U},\mathcal{F})\to C^{k+1}(\mathcal{U},\mathcal{F}) \]
wobei diese für $\alpha=(\alpha_{i_0,\ldots,i_k})_{i_0<\ldots<i_k}$ durch
\[(d\alpha)_{i_0,\ldots,i_{k+1}} = \sum_{j=0}^{k+1} (-1)^j \cdot\alpha_{i_0,\ldots,\widehat{i_j},\ldots,i_{k+1}}|_{U_{i_0}\cap\cdots\cap U_{i_{k+1}}} \]
definiert sind. Die Folge $C^\bullet(\mathcal{U},\mathcal{F})$ heißt \textit{Čech-Komplex} von $\mathcal{U}$ mit Koeffizienten in $\mathcal{F}$.\index{Cech-Komplex}

\paragraph{Satz 10$-\varepsilon$.2.}\label{9.5.2} Es gilt für $C^\bullet(\mathcal{U},\mathcal{F})$:
\begin{enumerate}[(i)]
\item $d\circ d =0$
\item Für eine Prägarbe $\mathcal{F}$ auf $X$ und eine offene Überdeckung $\mathcal{U}$ setzen wir:
\[\check{\mathrm{H}}^k(\mathcal{U},\mathcal{F}) = \frac{\ker( C^k(\mathcal{U},\mathcal{F})\to C^{k+1}(\mathcal{U},\mathcal{F}) )}{\operatorname{im}(C^{k-1}(\mathcal{U},\mathcal{F})\to C^{k}(\mathcal{U},\mathcal{F}))},\quad k\geq 0 \]
Dann ist $\check{\mathrm{H}}^k(\mathcal{U},-)$ ein Funktor nach $\mathbf{Ab}$.
\item Es gilt $\check{\mathrm{H} }^0(\mathcal{U},-)=\Gamma(X,-)$.
\end{enumerate}

\paragraph{Definition 10$-\varepsilon$.3.}\label{9.5.3} $\check{\mathrm{H}}^k(\mathcal{U},\mathcal{F})$ heißt $k$-te \textit{Čech-Kohomologiegruppe}\index{Cech-Kohomologie} von $\mathcal{U}$ mit Koeffizienten in $\mathcal{F}$.

\paragraph{Bemerkung 10$-\varepsilon$.4.}\label{9.5.4} Es lässt sich auch bilden:
\[\check{\mathrm{H}}^\bullet(X,\mathcal{F}) = \varinjlim_{\mathcal{U}}\check{\mathrm{H}}^\bullet(\mathcal{U},\mathcal{F}) \]
Es gilt stets $\check{\mathrm{H}}^1(X,\mathcal{F})\cong \mathrm{H}^1(X,\mathcal{F})$. Im Allgemeinen gibt es keine Isomorphie für höhere Kohomologiegruppen.

\section{Kohomologie des projektiven Raumes}

\paragraph{Satz 10.1.}\label{10.1} Sei $A$ ein noetherscher Ring, $S=A[X_0,\ldots,X_r]$ für ein $r\geq 1$ und $X=\operatorname{Proj}(S)=\mathbf{P}_A^r$. Dann gilt:
\begin{enumerate}[(i)]
\item $\bigoplus_{n\in\mathbb{Z}} \mathrm{H}^0(X,\mathcal{O}_X(n))\cong S$ ist ein Isomorphismus von graduierten $S$"~Moduln.
\item $\mathrm{H}^i(X,\mathcal{O}_X(n))=0$ für $0<i<r$ und alle $n\in\mathbb{Z}$.
\item $\mathrm{H}^r(X,\mathcal{O}_X(-r-1))\cong A$
\item Für alle $n\in\mathbb{Z}$ ist die natürliche Paarung
\[ \mathrm{H}^0(X,\mathcal{O}_X(n))\times\mathrm{H}^r(X,\mathcal{O}_X(-n-r-1))\to\mathrm{H}^r(X,\mathcal{O}_X(-r-1))\cong A \]
eine perfekte Paarung freier $A$"~Moduln, d.h. sie induziert einen Isomorphismus:
\[\mathrm{H}^0(X,\mathcal{O}_X(n))'\cong \mathrm{H}^r(X,\mathcal{O}_X(-n-r-1)) \]
wobei $'$ den Dualraum bezeichnet. Diese Paarung stimmt mit dem Cup-Produkt überein.
\end{enumerate}

\paragraph{Lemma 10.2.}\label{10.2} Sei $X$ ein separiertes, noethersches Schema, $\mathcal{U}$ eine offen affine Überdeckung und $\mathcal{F}$ eine quasikohärente Garbe auf $X$. Dann gilt:
\[\check{\mathrm{H}}^\bullet(\mathcal{U},\mathcal{F}) = \mathrm{H}^\bullet(X,\mathcal{F}) \]

\paragraph{Beweis von \hyperref[10.1]{10.1}.} Setze $\mathcal{F}=\bigoplus_{n\in\mathbb{Z}}\mathcal{O}_X(n)$. Da die Kohomologie mit direkten Summen vertauscht, liefert $\mathrm{H}^\bullet(X,\mathcal{F})$ gerade alle nötigen Daten. Sei $\mathcal{U}=(U_i)_{i=0,\ldots,r}$ mit $U_i=D_+(X_i)$. Nach \hyperref[10.2]{Lemma 10.2} gilt $\mathrm{H}^\bullet(X,\mathcal{F})=\check{\mathrm{H}}^\bullet(\mathcal{U},\mathcal{F})$. Nach \hyperref[5.21]{Satz 5.21} gilt:
\[\mathcal{F}(U_{i_0}\cap\cdots\cap U_{i_k}) = \mathcal{F}(D_+(X_{i_0}\cdots X_{i_k})) \cong S_{X_{i_0}\cdots X_{i_k}} \]
Somit ist:
\[C^\bullet(\mathcal{U},\mathcal{F}) = \Big(\prod_{i_0\in I} S_{X_{i_0}}\to \prod_{i_0<i_1} S_{X_{i_0}X_{i_1}}\to\cdots\to S_{X_0\cdots X_r} \to 0\to\cdots\Big) \]
\begin{enumerate}
\item[(i)] folgt aus \hyperref[5.25]{Satz 5.25}.
\item[(iii)] Es gilt:
\[\mathrm{H}^r(X,\mathcal{F}) = \operatorname{coker}\Big(d:\prod_k S_{X_0\cdots \widehat{X_k}\cdots X_r} \to S_{X_0\cdots X_r} \Big) \]
Wir betrachten $S_{X_0\cdots X_r}$ als freien $A$"~Modul mit Basis $\{X_0^{e_0}\cdots X_r^{e_r}\mid e_i\in\mathbb{Z}\}$. Damit ist das Bild von $d$ der freie Untermodul, der von den Monomen $X_0^{e_0}\cdots X_r^{e_r}$ mit $e_i\geq 0$ erzeugt wird. Somit ist $\mathrm{H}^r(X,\mathcal{F})$ der freie $A$"~Modul mit Basis $\{X_0^{e_0}\cdots X_r^{e_r}\mid e_i < 0\}$. Nun ist $\mathrm{H}^r(X,\mathcal{O}_X(-r-1))$ gerade die Elemente vom Grad $-r-1$ in $\mathrm{H}^r(X,\mathcal{F})$, d.h. gerade der Untermodul, der von den Monomen $\{X_0^{e_0}\cdots X_r^{e_r}\mid e_i<0,\ \sum e_i=-r-1\}$ erzeugt wird. Somit ist:
\[\mathrm{H}^r(X,\mathcal{F}) = \frac{1}{X_0\cdots X_r} A\cong A \]
\item[(iv)] Sei zunächst $n<0$. Dann ist $\mathrm{H}^0(X,\mathcal{O}_X(n))=0$ nach (i). Da $-n-r-1>-r-1$, folgt nach der Rechnung in (iii) auch $\mathrm{H}^r(X,\mathcal{O}_X(-n-r-1))=0$ und die Dualität ist trivial.

Sei nun $n\geq 0$. Dann ist $\mathrm{H}^0(X,\mathcal{O}_X(n))$ ein freier $A$"~Modul mit Basis $\{X_0^{m_0}\cdots X_r^{m_r}\mid m_i\geq 0,\ \sum m_i=n\}$ und $\mathrm{H}^r(X,\mathcal{O}_X(-n-r-1))$ ein freier $A$"~Modul mit Basis $\{X_0^{e_0}\cdots X_r^{e_r}\mid e_i<0,\ \sum e_i = -n-r-1\}$. Auf Ebene der Čech-Kohomologie ist die Paarung gegeben durch:
\begin{align*}
\mathrm{H}^0(X,\mathcal{O}_X(n))\times\mathrm{H}^r(X,\mathcal{O}_X(-n-r-1))&\to\mathrm{H}^r(X,\mathcal{O}_X(-r-1)),\\
(X_0^{m_0}\cdots X_r^{m_r}, X_0^{e_0}\cdots X_r^{e_r})&\mapsto X_0^{m_0+e_0}\cdots X_r^{m_r+e_r}
\end{align*}
In $\mathrm{H}^r(X,\mathcal{O}_X(-r-1))$ gilt $X_0^{m_0+e_0}\cdots X_r^{m_r+e_r}\neq 0$ genau dann, wenn $m_i+e_i = -1$, d.h. $e_i=-m_i-1$, für alle $i$ gilt. Somit bilden die dualen Elemente von $X_0^{-m_0-1}\cdots X_r^{-m_r-1},\ m_i\geq 0,\ \sum m_i =n$ eine Basis von $\mathrm{H}^r(X,\mathcal{O}_X(-n-r-1))^\ast$. Die Paarung ist somit perfekt.
\item[(ii)] Wir zeigen die Aussage per Induktion über $r$. Für $r=1$ ist die Aussage trivial. Wir lokalisieren $C^\bullet(\mathcal{U},\mathcal{F})$ homogen nach $X_r$ und setze $\mathcal{U}_r = (U_i\cap U_r)_{i=0,\ldots,r}$. Dann gilt:
\[C^\bullet(\mathcal{U},\mathcal{F})_{(X_r)} = C^\bullet(\mathcal{U}_r,\mathcal{F}|_{U_r}) \]
Insbesondere ist $U_r\in\mathcal{U}_r$, also folgt $\check{\mathrm{H}}^k(\mathcal{U}_r,\mathcal{F}|_{U_r})=0$ für $k>0$. Ferner ist die homogene Lokalisierung ein exakter Funktor und vertauscht somit mit der Kohomologie. Es folgt:
\begin{align*}
0 = \check{\mathrm{H}}^k(\mathcal{U}_r,\mathcal{F}|_{U_r}) &= \mathrm{H}^k(C^\bullet(\mathcal{U}_r,\mathcal{F}|_{U_r}))\\
&= \mathrm{H}^k(C^\bullet(\mathcal{U},\mathcal{F})_{(X_r)})
= \check{\mathrm{H}}^k(\mathcal{U},\mathcal{F})_{(X_r)} = \mathrm{H}^k(X,\mathcal{F})_{(X_r)}
\end{align*}
Also wird für alle $k>0$ jedes $\alpha\in\mathrm{H}^k(X,\mathcal{F})$ durch eine Potenz von $X_r$ annulliert. Wir zeigen nun, dass die $X_r$-Multiplikation $\mathrm{H}^k(X,\mathcal{F})\to\mathrm{H}^k(X,\mathcal{F})$ für $0<k<r$ injektiv ist. Daraus folgt die Behauptung.

Betrachte die exakte Sequenz von graduierten $S$"~Moduln:
\[0\longrightarrow S(-1)\stackrel{\cdot X_r}{\longrightarrow} S\longrightarrow S/(X_r)\longrightarrow 0  \]
Sie wird zu einer exakten Sequenz von Garben:
\[0\longrightarrow\mathcal{O}_X(-1)\longrightarrow\mathcal{O}_X\longrightarrow\mathcal{O}_H\longrightarrow 0 \]
mit $H=V_+(X_r)$. Twiste diese Sequenz mit allen $\mathcal{O}_X(n)$ und bilde direkte Summe. Diese Operationen sind alle exakt, daher erhalten wir die exakte Sequenz:
\[0\longrightarrow\mathcal{F}(-1)\stackrel{\cdot X_r}{\longrightarrow}\mathcal{F}\longrightarrow\mathcal{F}_H=\bigoplus_{n\in\mathbb{Z}}\mathcal{O}_H(n)\longrightarrow 0 \]
Betrachte die lange exakte Kohomologiesequenz:
\[\cdots \longrightarrow \mathrm{H}^{k-1}(X,\mathcal{F}_H)\longrightarrow\mathrm{H}^k(X,\mathcal{F}(-1))\stackrel{\cdot X_r}{\longrightarrow}\mathrm{H}^k(X,\mathcal{F})\longrightarrow\mathrm{H}^k(X,\mathcal{F}_H)\longrightarrow\cdots \]
Nach Induktionsannahme ist $\mathrm{H}^k(H,\mathcal{F}_H)=0$ für $0<k<r-1$, da $H\cong\mathbf{P}_A^{r-1}$. Nach \hyperref[9.26]{Lemma 9.26} gilt $\mathrm{H}^k(H,\mathcal{F}_H)= \mathrm{H}^k(X,\mathcal{F}_H)$. Somit sind die $X_r$-Multiplikationen $\mathrm{H}^k(X,\mathcal{F}(-1))\to\mathrm{H}^k(X,\mathcal{F})$ für $1<k<r-1$ Isomorphismen.

Für $k=1$ betrachte die exakte Sequenz $0\to S(-1)\to S\to S/(X_r)\to 0$:
\[0\longrightarrow\mathrm{H}^0(X,\mathcal{F}(-1))\longrightarrow \mathrm{H}^0(X,\mathcal{F})\longrightarrow\mathrm{H}^0(X,\mathcal{F}_H)\longrightarrow 0 \]
Wir erhalten die exakte Folge:
\[0 \longrightarrow \mathrm{H}^1(X,\mathcal{F}(-1))\stackrel{\cdot X_r}{\longrightarrow}\mathrm{H}^1(X,\mathcal{F})\longrightarrow\mathrm{H}^1(X,\mathcal{F}_H)=0\longrightarrow\cdots \]
Für $k=r-1$ betrachte die exakte Folge:
\[0=\mathrm{H}^{r-2}(X,\mathcal{F}_H)\longrightarrow\mathrm{H}^{r-1}(X,\mathcal{F}(-1))\stackrel{\cdot X_r}{\longrightarrow}\mathrm{H}^{r-1}(X,\mathcal{F})\qedhere\]
\end{enumerate}

\paragraph{Satz 10.3.}\label{10.3} \textit{(Serre)} Sei $X$ ein projektives Schema über einem noetherschen Ring $A$, $\mathcal{O}_X(1)$ eine sehr ample Garbe auf $X$ über $\operatorname{Spec}(A)$ und $\mathcal{F}$ eine kohärente Garbe auf $X$. Dann gilt:
\begin{enumerate}[(i)]
\item $\mathrm{H}^i(X, \mathcal{F})$ ist endlich erzeugter $A$"~Modul für alle $i\geq 0$.
\item Es gibt ein $n_0$, so dass $\mathrm{H}^i(X, \mathcal{F}(n))=0$ für alle $i>0$ und $n\geq n_0$.
\end{enumerate}

\paragraph{Bemerkung 10.4.}\label{10.4} Als Spezialfall von (i) gilt \hyperref[5.39]{Satz 5.39}: $\Gamma(X,\mathcal{F})$ ist endlich erzeugter $A$-Modul für kohärente Garben $\mathcal{F}$.

\paragraph{Beweis.} Da $\mathcal{O}_X(1)$ sehr ampel ist, gibt es eine Immersion $i:X\hookrightarrow  \mathbf{P}_A^r$ für ein $r$ mit $\mathcal{O}_X(1)=i^\ast\mathcal{O}(1)$. Aus der Projektivität folgt nach \hyperref[4.24]{Theorem 4.24} die Eigentlichkeit von $X\to\operatorname{Spec}(A)$. Nun ist $\mathbf{P}_A^r\to\operatorname{Spec}(A)$ separiert, also folgt nach \hyperref[4.22]{Korollar 4.22 (v)} die Eigentlichkeit von $X\to\mathbf{P}_A^r$, insbesondere ist $i$ abgeschlossen. Da $\mathcal{F}$ kohärent ist, ist auch $i_\ast\mathcal{F}$ nach \hyperref[5.36]{Lemma 5.36 (ii)} kohärent auf $\mathbf{P}_A^r$ und nach \hyperref[9.26]{Lemma 9.26} gilt $\mathrm{H}^i(X,\mathcal{F}(n)) =\mathrm{H}^i(\mathbf{P}_A^r, i_\ast\mathcal{F}(n))$. Wir können also o.B.d.A. $X=\mathbf{P}_A^r$ annehmen.

Die Aussagen (i) und (ii) gelten für Garben der Form $\mathcal{O}_X(q),\ q\in\mathbb{Z}$ nach \hyperref[10.1]{Satz 10.1}, dem \hyperref[9.27]{Verschwindungssatz} und der Tatsache, dass für $-q-r-1<0$, also $q>-r-1$, gilt:
\[\mathrm{H}^r(X,\mathcal{O}_X(q)) \cong \operatorname{Hom}(\mathrm{H}^0(X,\mathcal{O}_X(-q-r-1)), A) =0 \]
Es folgt (i) und (ii) für endliche direkte Summen von $\mathcal{O}_X(q),\ q\in\mathbb{Z}$. Sei nun $\mathcal{F}$ beliebig kohärent. Die allgemeine Aussage beweisen wir nun per absteigende Induktion über $i$. Für $i>r$ folgt alles aus dem Verschwindungssatz. Sei nun $i\leq r$ und die Aussage für höhere $i$ bewiesen. Nach \hyperref[5.38]{Korollar 5.38} gibt es eine exakte Sequenz:
\[0\longrightarrow\mathcal{R}\longrightarrow\mathcal{O}_X(q)^N\longrightarrow\mathcal{F}\longrightarrow 0 \]
$\mathcal{R}$ ist kohärent nach \hyperref[5.12]{Satz 5.12}. Betrachte die lange exakte Kohomologiesequenz:
\[\cdots\longrightarrow \mathrm{H}^i(X,\mathcal{O}_X(q)^N)\longrightarrow\mathrm{H}^i(X,\mathcal{F})\longrightarrow\mathrm{H}^{i+1}(X,\mathcal{R})\longrightarrow\cdots \]
Die äußeren beiden Gruppen sind endlich erzeugt. Da $A$ noethersch ist, folgt die endliche Erzeugbarkeit von $\mathrm{H}^i(X,\mathcal{F})$. Twisten wir die Folge um $n$ ergibt:
\[\cdots\longrightarrow \mathrm{H}^i(X,\mathcal{O}_X(q+n)^N)\longrightarrow\mathrm{H}^i(X,\mathcal{F}(n))\longrightarrow\mathrm{H}^{i+1}(X,\mathcal{R}(n))\longrightarrow\cdots\]
Die äußeren beiden Gruppen verschwinden für hinreichend große $n$, daher verschwindet auch $\mathcal{H}^i(X,\mathcal{F}(n))$ für $n\geq n_0$. Da die Kohomologiegruppen für fast alle $i$ komplett verschwinden, kann $n_0$ unabhängig von $i$ gewählt werden.\qed

\paragraph{Satz 10.5.}\label{10.5} Sei $A$ ein noetherscher Ring und $X$ eigentlich über $\operatorname{Spec}(A)$. Sei $\mathcal{L}$ eine invertierbare Garbe. Dann sind äquivalent:
\begin{enumerate}[(i)]
\item $\mathcal{L}$ ist ampel.
\item Für alle kohärenten Garben $\mathcal{F}$ auf $X$ gibt es ein $n_0$, so dass $\mathrm{H}^i(X,\mathcal{F}\otimes \mathcal{L}^{\otimes n})=0$ für alle $i>0$ und $n\geq n_0$.
\end{enumerate}

\paragraph{Beweis.} \begin{itemize}
\item Sei $\mathcal{L}$ ampel auf $X$. Nach \hyperref[7.7]{Satz 7.7} existiert ein $m>0$, so dass $\mathcal{L}^{\otimes m}$ sehr ampel auf $X$ bzgl. $\operatorname{Spec}(A)$ ist. Da $X$ eigentlich über $A$ ist, folgt nach \hyperref[5.32]{Satz 5.32} die Projektivität von $X\to\operatorname{Spec}(A)$. Wenden wir \hyperref[10.3]{Satz 10.3} auf $\mathcal{F},\ \mathcal{F}\otimes\mathcal{L},\ \mathcal{F}\otimes\mathcal{L}^{\otimes 2},\ \ldots,\ \mathcal{F}\otimes\mathcal{L}^{\otimes (m-1)}$ an, so erhalten wir (ii).
\item Sei nun (ii) erfüllt und $\mathcal{F}$ eine kohärente Garbe auf $X$. Wir zeigen, dass es ein $n_0$ existiert, so dass für alle $n\geq n_0$ die Garbe $\mathcal{F}\otimes\mathcal{L}^{\otimes n}$ von globalen Schnitten erzeugt wird.
\end{itemize}

\section{Ext-Gruppen}

Sei $\mathcal{F}$ ein $\mathcal{O}_X$"~Modul auf einem geringten Raum $(X,\mathcal{O}_X)$. Wir haben folgende linksexakte Funktoren:
\[\operatorname{Hom}(\mathcal{F},-):\mathbf{Mod}(X)\to\mathbf{Ab},\quad\operatorname{\mathcal{H}om}(\mathcal{F},-):\mathbf{Mod}(X)\to\mathbf{Mod}(X) \]

\paragraph{Definition 11.1.}\label{11.1} Sei $(X,\mathcal{O}_X)$ ein geringter Raum und $\mathcal{F}\in\mathbf{Mod}(X)$. Für $i\geq 0$ definieren wir:\index{Ext-Gruppen}
\[\operatorname{Ext}^i(\mathcal{F},-)=\mathrm{R}^i\operatorname{Hom}(\mathcal{F},-),\quad\operatorname{\mathcal{E}xt}^i(\mathcal{F},-) =\mathrm{R}^i\operatorname{\mathcal{H}om}(\mathcal{F},-) \]

\paragraph{Bemerkung 11.2.}\label{11.2} Es gilt:
\begin{enumerate}[(i)]
\item $\operatorname{Ext}^0=\operatorname{Hom},\ \operatorname{\mathcal{E}xt}^0 =\operatorname{\mathcal{H}om}$
\item $\operatorname{Ext}^i(\mathcal{F},\mathcal{J})=0$ und $\operatorname{\mathcal{E}xt}^i(\mathcal{F},\mathcal{J})=0$ für alle $i>0$ und injektive $\mathcal{J}$.
\end{enumerate}

\paragraph{Lemma 11.3.}\label{11.3} Sei $\mathcal{J}\in\mathbf{Mod}(X)$ injektiv und $U\subset_\text{o}X$. Dann ist $\mathcal{J}|_U\in\mathbf{Mod}(U)$ injektiv.

\paragraph{Beweis.} Sei $j:U\hookrightarrow X$ die natürliche Inklusion. Sei $\mathcal{F}\subset\mathcal{G}$ in $\mathbf{Mod}(U)$ und $\mathcal{F}\to\mathcal{J}|_U$ gegeben. Es gilt $j_!\mathcal{F}\subset j_!\mathcal{G}$ und wir erhalten einen Morphismus $j_!\mathcal{F}\to j_!(\mathcal{J}|_U)\hookrightarrow\mathcal{J}$. Da $\mathcal{J}$ injektiv ist, existiert eine Fortsetzung $j_!\mathcal{G}\to\mathcal{J}$. Somit ist $\mathcal{G}=(j_!\mathcal{G})|_U\to\mathcal{J}|_U$ eine Fortsetzung von $\mathcal{F}=(j_!\mathcal{F})|_U\to\mathcal{J}|_U$.\qed

\paragraph{Satz 11.4.}\label{11.4} Sei $(X,\mathcal{O}_X)$ ein geringter Raum und $U\subset_\text{o} X$. Dann gilt für $\mathcal{F},\mathcal{G}\in\mathbf{Mod}(X)$ und alle $i\geq 0$:
\[\operatorname{\mathcal{E}xt}^i(\mathcal{F},\mathcal{G})|_U\cong \operatorname{\mathcal{E}xt}^i(\mathcal{F}|_U,\mathcal{G}|_U) \]

\paragraph{Beweis.} Beide Seiten sind $\delta$-Funktoren $\mathbf{Mod}(X)\to\mathbf{Mod}(X)$ und gleich für $i=0$. Sie verschwinden beide auf Injektiven, sind somit auslöschbar, also universell.\qed

\paragraph{Satz 11.5.}\label{11.5} Sei $\mathcal{G}$ ein $\mathcal{O}_X$-Modul. Dann gilt:
\begin{enumerate}[(i)]
\item $\operatorname{\mathcal{E}xt}^0(\mathcal{O}_X,\mathcal{G})\cong\mathcal{G}$
\item $\operatorname{\mathcal{E}xt}^i(\mathcal{O}_X,\mathcal{G})=0$ für alle $i>0$
\item $\operatorname{Ext}^i(\mathcal{O}_X,\mathcal{G}) \cong\mathrm{H}^i(X,\mathcal{G})$ für alle $i\geq 0$
\end{enumerate}

\paragraph{Beweis.} Es gilt $\operatorname{\mathcal{H}om}(\mathcal{O}_X,-) = \operatorname{Id}$ und $\operatorname{Hom}(\mathcal{O}_X,-)=\Gamma(X,-)$.\qed

\paragraph{Satz 11.6.}\label{11.6} Sei $0\to\mathcal{F}'\to\mathcal{F}\to\mathcal{F}''\to 0$ eine exakte Folge in $\mathbf{Mod}(X)$ und $\mathcal{G}\in\mathbf{Mod}(X)$. Dann ist die folgende Folge exakt:
\[0\to\operatorname{Hom}(\mathcal{F}'',\mathcal{G})\to\operatorname{Hom}(\mathcal{F},\mathcal{G})\to\operatorname{Hom}(\mathcal{F}',\mathcal{G})\to\operatorname{Ext}^1(\mathcal{F}'',\mathcal{G})\to\operatorname{Ext}^1(\mathcal{F},\mathcal{G})\to\cdots\]
Analog für $\operatorname{\mathcal{H}om}$ und $\operatorname{\mathcal{E}xt}$.

\paragraph{Beweis.} Sei $0\to\mathcal{G}\to\mathcal{J}^\bullet$ eine injektive Auflösung. Dann ist $\operatorname{Hom}(-,\mathcal{J}^i)$ exakt. Es folgt daher die Exaktheit von:
\[0\longrightarrow\operatorname{Hom}(\mathcal{F}'',\mathcal{J}^\bullet)\longrightarrow\operatorname{Hom}(\mathcal{F},\mathcal{J}^\bullet)\longrightarrow\operatorname{Hom}(\mathcal{F}',\mathcal{J}^\bullet)\longrightarrow 0\]
Die lange exakte Kohomologiesequenz liefert die Aussage. Die Aussage für $\operatorname{\mathcal{E}xt}$ folgt analog mithilfe von \hyperref[11.3]{Lemma 11.3}.\qed

\paragraph{Satz 11.7.}\label{11.7} Sei $\cdots\to\mathcal{L}_1\to\mathcal{L}_0\to\mathcal{F}\to 0$ eine exakte Sequenz von $\mathcal{O}_X$-Moduln, wobei alle $\mathcal{L}_i$ lokal frei von endlichem Rang ist. Dann gilt für alle $\mathcal{O}_X$-Moduln $\mathcal{G}$:
\[\operatorname{\mathcal{E}xt}^i(\mathcal{F},\mathcal{G})\cong \mathrm{H}^i(\operatorname{\mathcal{H}om}(\mathcal{L}_\bullet,\mathcal{G})) \]

\paragraph{Beweis.} Beide Seiten sind $\delta$-Funktoren $\mathbf{Mod}(X)\to\mathbf{Mod}(X)$ in $\mathcal{G}$, die gleich für $i=0$ sind. Beide Seiten verschwinden für injektive $\mathcal{G}$, also sind beide $\delta$-Funktoren universell.\qed

\paragraph{Beispiel 11.8.}\label{11.8} Sei $X$ ein quasiprojektives Schema über $\operatorname{Spec}(A)$ mit $A$ noethersch. Nach \hyperref[5.38]{Korollar 5.38} ist jede kohärente Garbe von $X$ ein Quotient von einer lokal freien Garbe von endlichem Rang. Somit besitzt jede kohärente Garbe eine lokal freie Auflösung $\mathcal{L}_\bullet\to\mathcal{F}\to 0$ von endlichem Rang. Somit kann $\operatorname{\mathcal{E}xt}^\bullet(\mathcal{F},-)$ durch eine lokal freie Auflösung von endlichem Rang in der ersten Variable berechnet werden. $\mathbf{Mod}(X)$ besitzt aber nicht genügend viele Projektive.

\paragraph{Lemma 11.9.}\label{11.9} Sei $\mathcal{L}\in\mathbf{Mod}(X)$ lokal frei von endlichem Rang und $\mathcal{J}\in\mathbf{Mod}(X)$ injektiv. Dann ist $\mathcal{J}\otimes\mathcal{L}$ injektiv.

\paragraph{Beweis.} Wir zeigen, dass $\operatorname{Hom}(-,\mathcal{J}\otimes\mathcal{L})$ exakter Funktor ist. Nun gilt:
\[\operatorname{Hom}(-,\mathcal{J}\otimes\mathcal{L})=\operatorname{Hom}(-\otimes\mathcal{L}^\vee,\mathcal{J})\]
mit $\mathcal{L}^\vee =\operatorname{\mathcal{H}om}(\mathcal{L},\mathcal{O}_X)$. Da $\mathcal{J}$ injektiv und $-\otimes\mathcal{L}^\vee$ exakt ist, folgt die Behauptung.\qed

\paragraph{Satz 11.10.}\label{11.10} Sei $\mathcal{L}$ eine lokal freie Garbe von endlichem Rang und $\mathcal{L}^\vee=\operatorname{\mathcal{H}om}(\mathcal{L},\mathcal{O}_X)$ sein Dual. Dann gilt für alle $\mathcal{F},\mathcal{G}\in\mathbf{Mod}(X)$:
\begin{align*}
\operatorname{Ext}^i(\mathcal{F}\otimes\mathcal{L},\mathcal{G}) &\cong \operatorname{Ext}^i(\mathcal{F},\mathcal{L}^\vee\otimes\mathcal{G})\\
\operatorname{\mathcal{E}xt}^i(\mathcal{F}\otimes\mathcal{L},\mathcal{G}) &\cong \operatorname{\mathcal{E}xt}^i(\mathcal{F},\mathcal{L}^\vee\otimes\mathcal{G})
\end{align*}

\paragraph{Beweis.} Für $i=0$ sind die Aussagen klar. Es ist $-\otimes\mathcal{L}^\vee$ ein exakter Funktor. Somit sind beide Seiten $\delta$-Funktoren in $\mathcal{G}$, die auf Injektive $\mathcal{G}$ verschwinden und daher universell.\qed

\paragraph{Satz 11.11.}\label{11.11} Sei $X$ ein noethersches Schema, $\mathcal{F}$ eine kohärente Garbe auf $X$, $\mathcal{G}$ ein  $\mathcal{O}_X$-Modul und $x\in X$. Dann gilt:
\[\operatorname{\mathcal{E}xt}^i(\mathcal{F},\mathcal{G})_x\cong \operatorname{Ext}^i_{\mathcal{O}_{X,x}}(\mathcal{F}_x,\mathcal{G}_x) = \mathrm{R}^i\operatorname{Hom}_{\mathcal{O}_{X,x}}(\mathcal{F}_x,-)(\mathcal{G}_x) \]

\paragraph{Beweis.} Die Aussage ist lokal, sei also o.B.d.A. $X$ affin. Dann besitzt $\mathcal{F}$ eine lokal freie Auflösung von endlichem Rang $\mathcal{L}_\bullet\to\mathcal{F}\to 0$ nach \hyperref[11.8]{11.8}. Somit ist $\mathcal{L}_{\bullet,x}\to\mathcal{F}_x\to 0$ eine freie Auflösung. Wir können diese Auflösung zur Berechnung der Kohomologie verwenden. Da $\operatorname{\mathcal{H}om}(\mathcal{L},\mathcal{G})_x=\operatorname{Hom}_{\mathcal{O}_{X,x}}(\mathcal{L}_x,\mathcal{G}_x)$ für lokal freie Garben $\mathcal{L}$ und Halmbildung exakt ist, folgt die Gleichheit der Ext-Gruppen.\qed

\paragraph{Satz 11.12.}\label{11.12} Sei $X$ ein projektives Schema über einem noetherschen Ring $A$, $\mathcal{O}_X(1)$ eine sehr ample Garbe auf $X$ und $\mathcal{F},\mathcal{G}$ kohärente Garben auf $X$. Dann existiert ein $n_0=n_0(\mathcal{F},\mathcal{G})>0$, so dass für alle $n\geq n_0$ und alle $i\geq 0$ gilt:
\[\operatorname{Ext}^i(\mathcal{F},\mathcal{G}(n)) =\Gamma(X,\operatorname{\mathcal{E}xt}^i(\mathcal{F},\mathcal{G}(n))) \]

\paragraph{Lemma 11.13.}\label{11.13} Sei $X$ ein projektives Schema über einem noetherschen Ring $A$, $\mathcal{O}_X(1)$ eine sehr ample Garbe auf $X$ und $\mathcal{F}^1\to\mathcal{F}^2\to\cdots\to\mathcal{F}^r$ eine exakte Folge kohärenter Garben. Dann gibt es ein $m_0$, so dass für alle $m\geq m_0$ die folgende Sequenz exakt ist:
\[\Gamma(X,\mathcal{F}^1(m))\longrightarrow\Gamma(X,\mathcal{F}^2(m))\longrightarrow\cdots\longrightarrow\Gamma(X,\mathcal{F}^r(m)) \]

\paragraph{Beweis von \hyperref[11.12]{11.12}.} Für $i=0$ ist die Aussage klar. Sei zunächst $\mathcal{F}=\mathcal{O}_X$. Dann folgt aus \hyperref[11.5]{Satz 11.5} und \hyperref[10.3]{Satz 10.3} für alle $i>0$ und hinreichend großes $n$:
\[\operatorname{Ext}^i(\mathcal{O}_X,\mathcal{G}(n))=\mathrm{H}^i(X,\mathcal{G}(n))=0=\Gamma(X,\operatorname{\mathcal{E}xt}^i(\mathcal{O}_X,\mathcal{G}(n))) \]
Sei nun $\mathcal{F}$ lokal frei von endlichem Rang. Nach \hyperref[11.10]{Satz 11.10} gilt für hinreichend große $n$:
\begin{align*}
\operatorname{Ext}^i(\mathcal{F},\mathcal{G}(n))&=\operatorname{Ext}^i(\mathcal{O}_X,\mathcal{F}^\vee\otimes\mathcal{G}(n))=0\\
&=\Gamma(X,\operatorname{\mathcal{E}xt}^i(\mathcal{O}_X,\mathcal{F}^\vee\otimes\mathcal{G}(n)))=\Gamma(X,\operatorname{\mathcal{E}xt}^i(\mathcal{F},\mathcal{G}(n)))
\end{align*}
Sei nun $\mathcal{F}$ beliebig kohärent. Nach \hyperref[5.38]{Korollar 5.38} gibt es eine kurze exakte Folge $0\to\mathcal{R}\to\mathcal{L}\to\mathcal{F}\to 0$ mit einem lokal freien $\mathcal{L}$ von endlichem Rang. Wir erhalten für hinreichend große $n$ die folgende exakte Folge:
\[0\longrightarrow\operatorname{Hom}(\mathcal{F},\mathcal{G}(n))\longrightarrow\operatorname{Hom}(\mathcal{L},\mathcal{G}(n))\longrightarrow\operatorname{Hom}(\mathcal{R},\mathcal{G}(n))\longrightarrow\operatorname{Ext}^1(\mathcal{F},\mathcal{G}(n))\longrightarrow 0 \]
Analog für $\operatorname{\mathcal{H}om}$ und $\operatorname{\mathcal{E}xt}$:
\[0\longrightarrow\operatorname{\mathcal{H}om}(\mathcal{F},\mathcal{G}(n))\longrightarrow\operatorname{\mathcal{H}om}(\mathcal{L},\mathcal{G}(n))\longrightarrow\operatorname{\mathcal{H}om}(\mathcal{R},\mathcal{G}(n))\longrightarrow\operatorname{\mathcal{E}xt}^1(\mathcal{F},\mathcal{G}(n))\longrightarrow 0\]
Beachte $\operatorname{Ext}^j(\mathcal{R},\mathcal{G}(n))\cong\operatorname{Ext}^{j+1}(\mathcal{F},\mathcal{G}(n))$ und $\operatorname{\mathcal{E}xt}^j(\mathcal{R},\mathcal{G}(n))\cong\operatorname{\mathcal{E}xt}^{j+1}(\mathcal{F},\mathcal{G}(n))$ für $j\geq 1$. Da $\mathcal{R}$ kohärent ist, folgt die Aussage per Induktion über $j$. Für $j=0$ twisten wir die obige Folge genug und wenden $\Gamma(X,-)$ an. \hyperref[11.13]{Lemma 11.13} gibt uns ein $m$, so dass:
\[\Gamma(X,\operatorname{\mathcal{E}xt}^1(\mathcal{F},\mathcal{G}(n+m))) =\operatorname{Ext}^1(\mathcal{F},\mathcal{G}(n+m))\qedhere \]

\section{Die Serre-Dualität}

\paragraph{Satz 12.1.}\label{12.1} \textit{(Dualität für den projektiven Raum)}\index{Serre-Dualität} Sei $X=\mathbf{P}_k^n$ und $\omega_X=\bigwedge^n\Omega_{X/k}$ die $n$-te äußere Potenz von $\Omega_{X/k}$, die sogenannte \textit{kanonische Garbe}\index{Garbe!kanonisch} auf $X$. Dann ist $\omega_X$ eine invertierbare Garbe und es gilt:
\begin{enumerate}[(i)]
\item $\mathrm{H}^n(X,\omega_X)\cong k$
\item Sei $\mathcal{F}$ kohärent auf $X$. Dann ist
\[\operatorname{Hom}(\mathcal{F},\omega_X)\times\mathrm{H}^n(X,\mathcal{F})\to\mathrm{H}^n(X,\omega_X)\cong k \]
eine perfekte Paarung endlich-dimensionierter $k$-Vektorräume.
\item Für alle $i\geq 0$ gibt es eine natürliche Isomorphie von kontravarianten Funktoren $\mathbf{Coh}(X)\to\mathbf{Ab}$:
\[\operatorname{Ext}^i(-,\omega_X)\cong\mathrm{H}^{n-i}(X,-)' \]
wobei $'$ den Dualraum bezeichnet. Für $i=0$ ist diese gerade durh die Paarung von (ii) induziert.
\end{enumerate}

\paragraph{Beweis.} Da die Garbe der relativen Differentiale $\Omega_{X/k}$ lokal frei vom Rang $n$ ist, ist $\omega_X$ vom Rang $\binom{n}{n}=1$, also invertierbar.
\begin{enumerate}[(i)]
\item Aus der exakten Sequenz in \hyperref[8.23]{Satz 8.23}
\[0\longrightarrow\Omega_{X/k}\longrightarrow\mathcal{O}_X(-1)^{n+1}\longrightarrow\mathcal{O}_X\longrightarrow 0 \]
folgt $\omega_X=\bigwedge^n\Omega_{X/k}\cong\mathcal{O}_X(-n-1)$. Nach \hyperref[10.1]{Satz 10.1 (iii)} gilt $\mathrm{H}^n(X,\mathcal{O}_X(-n-1))\cong k$.
\item Ein $f\in\operatorname{Hom}(\mathcal{F},\omega_X)$ liefert $\mathrm{H}^n(X,\mathcal{F})\to\mathrm{H}^n(X,\omega_X)$. Dies induziert eine Paarung:
\[\operatorname{Hom}(\mathcal{F},\omega_X)\times\mathrm{H}^n(X,\mathcal{F})\to\mathrm{H}^n(X,\omega_X),\ (f,a)\mapsto \mathrm{H}^n(f)(a) \]
Ist $\mathcal{F}\cong\mathcal{O}_X(q)$, so gilt $\operatorname{Hom}(\mathcal{O}_X(q),\omega_X)=\operatorname{Hom}(\mathcal{O}_X,\omega_X(-q))\cong\mathrm{H}^0(X,\omega_X(-q))$ nach \hyperref[11.5]{Satz 11.5 (iii)}. Betrachte das kommutative Diagramm:
\[\begin{tikzcd}
\mathrm{H}^0(X,\omega_X(-q)) \times \mathrm{H}^n(X,\mathcal{O}_X(q)) \rar\ar[d, shift left=4em, "\cong"]\ar[d, shift right=4em, "\cong"']& \mathrm{H}^n(X,\omega_X)\ar[d, "\cong"]\\
\mathrm{H}^0(X,\mathcal{O}_X(-n-q-1))\times\mathrm{H}^n(X,\mathcal{O}_X(q))\rar &\mathrm{H}^n(X,\mathcal{O}_X(-n-1))
\end{tikzcd} \]
Daher ist die Paarung nach \hyperref[10.1]{Satz 10.1 (iv)} nicht ausgeartet. Die Aussage folgt daher auch für endliche direkte Summen von $\mathcal{O}_X(q)$.

Sei nun $\mathcal{F}$ beliebig kohärent. Nach \hyperref[5.38]{Korollar 5.38} erhalten wir eine exakte Sequenz $\mathcal{E}_1\to\mathcal{E}_2\to\mathcal{F}\to 0$, wobei $\mathcal{E}_i$ endliche direkte Summen von $\mathcal{O}_X(q)$ ist. Sei $0\to\mathcal{G}'\to\mathcal{G}\to\mathcal{G}''\to 0$ eine exakte Sequenz kohärenter Garben. Nach dem Verschwindungssatz und unter Betrachtung der langen exakten Kohomologiefolge folgt die Exaktheit von:
\[\mathrm{H}^n(X,\mathcal{G}')\longrightarrow\mathrm{H}^n(X,\mathcal{G})\longrightarrow\mathrm{H}^n(X,\mathcal{G}'')\longrightarrow 0\]
Nun sind $\operatorname{Hom}(-,\omega_X)$ und $\operatorname{Hom}(\mathrm{H}^n(X,-),k)$ linksexakte kontravariante Funktoren. Also folgt die Behauptung aus dem Fünferlemma:
\[\begin{tikzcd}
0\rar & \operatorname{Hom}(\mathcal{F},\omega_X) \dar\rar& \operatorname{Hom}(\mathcal{E}_2,\omega_X) \rar\dar["\cong"']& \operatorname{Hom}(\mathcal{E}_1,\omega_X)\dar["\cong"]\\
0 \rar& \mathrm{H}^n(X,\mathcal{F})'\rar & \mathrm{H}^n(X,\mathcal{E}_2)'\rar & \mathrm{H}^n(X,\mathcal{E}_1)'
\end{tikzcd}\]
\item Beide Seiten sind kontravariante $\delta$-Funktoren $\mathbf{Coh}(X)\to\mathbf{Ab}$. Für $i=0$ sind sie isomorph nach (ii). Also reicht es zu zeigen, dass beide $\delta$-Funktoren auslöschbar, also universell sind. Für $\mathcal{F}\in\mathbf{Coh}(X)$, existiert nach \hyperref[5.38]{Korollar 5.38} für alle hinreichend große $q$ eine Surjektion $\mathcal{E}\to\mathcal{F}$ mit $\mathcal{E}=\bigoplus_{i=1}^N\mathcal{O}_X(-q)$. Nach \hyperref[11.5]{Satz 11.5 (iii)} und \hyperref[10.3]{Satz 10.3} gilt für $i>0$ und hinreichend große $q$:
\[\operatorname{Ext}^i(\mathcal{E},\omega_X) =\bigoplus_{i=1}^N\mathrm{H}^i(X,\omega_X(q))=0 \]
Ferner gilt $\mathrm{H}^{n-i}(X,\mathcal{E})'=\bigoplus_{i=1}^N\mathrm{H}^{n-i}(X,\mathcal{O}_X(-q))'=0$ für $n>i>0$ nach \hyperref[10.1]{Satz 10.1}. Ist $i=n$, so gilt $\mathrm{H}^0(X,\mathcal{O}_X(-q))=0$ für alle $q>0$.\qed
\end{enumerate}

\paragraph{Definition 12.2.}\label{12.2} Sei $X$ ein eigentliches Schema über einem Körper $k$ der Dimension $n$. Eine \textit{dualisierende Garbe}\index{Garbe!dualisierend} für $X$ ist eine kohärente Garbe $\omega_X^0$ auf $X$ zusammen mit einer \textit{Spurabbildung}\index{Spurabbildung}
\[t:\mathrm{H}^n(X,\omega_X^0)\to k \]
derart, dass für alle kohärenten Garben $\mathcal{F}$ auf $X$ die natürliche Paarung perfekt ist:
\[\operatorname{Hom}(\mathcal{F},\omega_X^0) \times\mathrm{H}^n(X,\mathcal{F}) \longrightarrow\mathrm{H}^n(X,\omega_X^0)\stackrel{t}{\longrightarrow}k \]

\paragraph{Satz 12.3.}\label{12.3} Sei $X$ eigentlich über einem Körper $k$. Seien $(\omega_X^0,t)$ und $(\omega_X^1,t')$ dualisierende Garben für $X$. Dann existiert einen eindeutig bestimmten Isomorphismus $\varphi:\omega_X^0\to\omega_X^1$, der mit der Spurabbildung verträglich ist, d.h. $t'\circ\mathrm{H}^n(\varphi)=t$.

\paragraph{Beweis.} Da $\omega^1_X$ dualisierend und $\omega_X^0$ kohärent ist, folgt:
\[\operatorname{Hom}(\mathrm{H}^n(X,\omega^0_X),k)\cong\operatorname{Hom}(\omega_X^0,\omega_X^1)\]
Sei $\varphi$ das Bild von $t\in \operatorname{Hom}(\mathrm{H}^n(X,\omega^0_X),k)$ in $\operatorname{Hom}(\omega_X^0,\omega_X^1)$. Dann gilt $t'\circ\mathrm{H}^n(\varphi)=t$. Analog erhalten wir für $\omega_X^0$ dualisierend und $\omega_X^1$ kohärent einen Morphismus $\psi:\omega_X^1\to\omega_X^0$ mit $t\circ\mathrm{H}^n(\psi)=t'$. Es folgt $t\circ\mathrm{H}^n(\psi\circ\varphi)=t$. Da $\omega_X^0$ dualisierend ist, folgt $\psi\circ\varphi=\operatorname{id}$. Analog ist $\varphi\circ\psi=\operatorname{id}$.\qed

\paragraph{Lemma 12.4.}\label{12.4} Sei $X$ ein abgeschlossenes Unterschema von $P=\mathbf{P}_k^N$ der Kodimension $r$ und $j:X\hookrightarrow P$ die kanonische Inklusion. Dann gilt für alle $i<r$:
\[\operatorname{\mathcal{E}xt}^i_P(j_\ast\mathcal{O}_X,\omega_P)=0 \]

\paragraph{Lemma 12.5.}\label{12.5} Sei $X$ noethersch und $\mathcal{F},\mathcal{G}\in\mathbf{Coh}(X)$. Dann ist die Garbe $\operatorname{\mathcal{E}xt}^i(\mathcal{F},\mathcal{G})$ kohärent für alle $i\geq 0$.

\paragraph{Beweis von \hyperref[12.4]{12.4}} Für alle $i$ ist nach \hyperref[12.5]{Lemma 12.5} $\mathcal{F}^i=\operatorname{\mathcal{E}xt}^i_P(j_\ast\mathcal{O}_X,\omega_P)$ kohärent auf $P$, da $j_\ast\mathcal{O}_X$ kohärent nach \hyperref[5.13]{Satz 5.13 (iii)} ist. Nach \hyperref[5.37]{Satz 5.37} wird $\mathcal{F}^i(q)$ von globalen Schnitten erzeugt für hinreichend große $q$. Somit reicht es zu zeigen, dass $\Gamma(P,\mathcal{F}^i(q))=0$ für hinreichend große $q$ und alle $i<r$. Nun gilt mit \hyperref[11.12]{Satz 11.12} und \hyperref[12.1]{Satz 12.1 (iii)} für hinreichend große $q$:
\begin{align*}
\Gamma(P,\mathcal{F}^i(q)) &\cong \operatorname{Ext}_P^i(j_\ast\mathcal{O}_X,\omega_P(q))\\
&\cong \mathrm{H}^{N-i}(P,j_\ast\mathcal{O}_X(-q))' = \mathrm{H}^{N-i}(X,\mathcal{O}_X(-q))'
\end{align*}
Für $N-i>\dim(X)$ verschwinden diese nach dem Verschwindungssatz, d.h. $i<N-\dim(X)=r$.\qed

\paragraph{Lemma 12.6.}\label{12.6} Sei $X$ ein abgeschlossenes Unterschema von $P=\mathbf{P}_k^N$ der Kodimension $r$ und $j:X\hookrightarrow P$ die kanonische Inklusion. Sei $\omega_X^0=j^\ast\operatorname{\mathcal{E}xt}_P^r(j_\ast\mathcal{O}_X,\omega_P)$. Dann gibt es einen Isomorphismus von Funktoren $\mathbf{Mod}(X)\to\mathbf{Ab}$:
\[\operatorname{Hom}(-,\omega_X^0)\cong\operatorname{Ext}_P^r(j_\ast-,\omega_P) \]

\iffalse
\paragraph{Beweis.} Sei $0\to\omega_P\to\mathcal{J}^\bullet$ eine injektive Auflösung von $\omega_P$ in $\mathbf{Mod}(P)$ und $\mathcal{F}\in\mathbf{Mod}(X)$. Dann gilt:
\[\operatorname{Ext}_P^i(j_\ast\mathcal{F},\omega_P)=\mathrm{H}^i(\operatorname{Hom}_P(j_\ast\mathcal{F},\mathcal{J}^\bullet)) \]
Es faktorisiert jeder Morphismus $j_\ast\mathcal{F}\to\mathcal{J}^i$ über $\mathcal{I}^i = \operatorname{\mathcal{H}om}_P(j_\ast\mathcal{O}_X,\mathcal{J}^i)$. Also gilt:
\[\operatorname{Ext}_P^i(j_\ast\mathcal{F},\omega_P)=\mathrm{H}^i(\operatorname{Hom}_X(\mathcal{F},j^\ast\mathcal{I}^\bullet)) \]
Nun sind die $j^\ast\mathcal{I}^i$ alle injektive $\mathcal{O}_X$"~Moduln, da $\operatorname{Hom}_X(-,j^\ast\mathcal{I}^i)=\operatorname{Hom}_P(j_\ast-,\mathcal{J}^i)$ exakt ist. Wegen \hyperref[12.4]{Lemma 12.4} gilt für $i<r$:
\[\mathrm{H}^i(j^\ast\mathcal{I}^\bullet) = \mathrm{H}^i(j^\ast\operatorname{\mathcal{H}om}_P(j_\ast\mathcal{O}_X,\mathcal{J}^\bullet))=\operatorname{\mathcal{E}xt}^i_P(j_\ast\mathcal{O}_X,\omega_P)=0 \]
Also ist der Komplex $\mathcal{I}^\bullet$ exakt bis zum $r$-ten Schritt.
\fi

\paragraph{Satz 12.7.}\label{12.7} Sei $X/k$ ein projektives Schema. Dann besitzt $X$ eine dualisierende Garbe.

\iffalse
\paragraph{Beweis.} Sei $j:X\hookrightarrow P=\mathbf{P}_k^N$ eine abgeschlossene Immersion, $n=\dim(X),\ r=\operatorname{codim}(X)$. Setze $\omega_X^0=j^\ast\operatorname{\mathcal{E}xt}^r_P(j_\ast\mathcal{O}_X,\omega_P)$. Nach \hyperref[12.6]{Lemma 12.6} gilt für alle $\mathcal{F}\in\mathbf{Mod}(X)$:
\[\operatorname{Hom}_X(\mathcal{F},\omega_X^0) \cong\operatorname{Ext}_P^r(j_\ast\mathcal{F},\omega_P) \]
Ist $\mathcal{F}$ kohärent, so gilt nach \hyperref[12.1]{Satz 12.1} und \hyperref[9.26]{Lemma 9.26}:
\[\operatorname{Ext}_P^r(j_\ast\mathcal{F},\omega_P)\cong\mathrm{H}^{N-r}(P,j_\ast\mathcal{F})'\cong\mathrm{H}^n(X,\mathcal{F})' \]
\fi

\paragraph{Definition.} Sei $(A,\mathfrak{m})$ ein lokaler, noetherscher Ring und $M$ ein $A$"~Modul. $x_1,\ldots,x_r\in A$ heißt \textit{reguläre Sequenz}\index{reguläre Sequenz}, wenn $x_1$ kein Nullteiler von $M$ ist und für $i>1$ das Element $x_i$ kein Nullteiler von $M/(x_1,\ldots,x_{i-1})M$ ist. Die \textit{Tiefe}\index{Tiefe} von $M$ ist definiert als:
\[\operatorname{depth}(M) = \sup\{r\mid \text{es existiert eine reguläre Sequenz }x_1,\ldots,x_r\in\mathfrak{m}\} \]
$A$ heißt \textit{Cohen-Macaulay}\index{Cohen-Macaulay}, falls seine Tiefe gerade $\dim(A)$ ist.

\paragraph{Satz 12.8.}\label{12.8} \textit{(Dualitätssatz für projektive Schemata)}\index{Serre-Dualität} Sei $X$ ein projektives Schema über einem algebraisch abgeschlossenen Körper $k$ der Dimension $n$. Sei $\omega_X^0$ die dualisierende Garbe auf $X$ und $\mathcal{O}(1)$ eine sehr ample Garbe auf $X$. Dann gilt:
\begin{enumerate}[(i)]
\item Für alle $i\geq 0$ und alle kohärenten Garben $\mathcal{F}$ auf $X$ gibt es natürliche, in $\mathcal{F}$ funktorielle Abbildungen:
\[\theta^i:\operatorname{Ext}^i(\mathcal{F},\omega_X^0)\to\mathrm{H}^{n-i}(X,\mathcal{F})' \]
wobei $\theta^0$ durch die Definition der dualisierende Garbe gegeben ist.
\item Folgende Bedingungen sind äquivalent:
\begin{enumerate}[(a)]
\item $X$ ist \textit{Cohen-Macaulay}\index{Cohen-Macaulay}, d.h. alle lokalen Ringe sind Cohen-Macaulay, und \textit{äquidimensional}\index{äquidimensional}, d.h. alle irreduziblen Komponenten haben dieselbe Dimension.
\item Für alle lokal freien Garben $\mathcal{F}$ auf $X$ gilt $\mathrm{H}^i(X,\mathcal{F}(-q))=0$ für alle $i<n$ und hinreichend große $q$.
\item Alle $\theta^i,\ i\geq 0$ aus (i) sind Isomorphismen für alle $\mathcal{F}\in\mathbf{Coh}(X)$.
\end{enumerate}
\end{enumerate}

\paragraph{Bemerkung 12.9.}\label{12.9} Ist $X/k$ nicht-singulär, so ist $X$ Cohen-Macaulay, da reguläre Ringe stets Cohen-Macaulay sind.

\paragraph{Korollar 12.10.}\label{12.10} Sei $X/k$ ein projektives, äquidimensionales Cohen-Macaulay Schema der Dimension $n$ über einem algebraisch abgeschlossenen Körper $k$. Sei $\mathcal{F}$ eine lokal freie Garbe von endlichem Rang auf $X$. Dann gibt es für $i\geq 0$ natürliche Isomorphismen:
\[\mathrm{H}^i(X,\mathcal{F})\cong\mathrm{H}^{n-i}(X,\mathcal{F}^\vee\otimes\omega_X^0)' \]

\paragraph{Beweis.} Nach \hyperref[11.10]{Satz 11.10} und \hyperref[11.5]{Satz 11.5 (iii)} gilt:
\[\mathrm{H}^i(X,\mathcal{F})\cong\operatorname{Ext}^{n-i}(\mathcal{F},\omega_X^0)'=\operatorname{Ext}^{n-i}(\mathcal{O}_X,\mathcal{F}^\vee\otimes\omega_X^0)' = \mathrm{H}^{n-i}(X,\mathcal{F}^\vee\otimes\omega_X^0)'\qedhere \]

\paragraph{Korollar 12.11.}\label{12.11} Sei $X$ eine nicht-singuläre projektive Varietät der Dimension $n$ über einem abgeschlossenen Körper $k$. Dann ist die dualisierende Garbe $\omega_X^0$ isomorph zur kanonischen Garbe $\omega_X=\bigwedge^n\Omega_{X/k}$.

\paragraph{Definition.} Sei $A$ ein Ring und $M$ ein $A$-Modul. Die \textit{projektive Dimension}\index{projektive Dimension} von $M$ ist definiert als:
\[\operatorname{pd}_A(M)=\inf\{ m\mid\text{es gibt eine projektive Auflösung } 0\to P_m\to\cdots\to P_0\to M\to 0 \} \]

\paragraph{Satz 12.12.}\label{12.12} Sei $A$ ein Ring und $M$ ein $A$-Modul. Dann gilt:
\begin{enumerate}[(i)]
\item $\operatorname{pd}_A(M)\leq m\iff \operatorname{Ext}^i(M,N)=0$ für $i>m$ und alle $A$-Moduln $N$.
\item Ist $A$ regulär und $M$ endlich erzeugter $A$-Modul, so gilt:
\[\operatorname{pd}_A(M)+\operatorname{depth}(M)=\dim(A) \]
Es ist $\operatorname{pd}_A(M)\leq m$ genau dann, wenn $\operatorname{Ext}^i(M,A)=0$ für alle $i> m$.
\end{enumerate}

\paragraph{Beweis von \hyperref[12.8]{12.8}.}\begin{enumerate}[(i)]
\item Sei $q$ hinreichend groß, so dass wir eine Surjektion $\mathcal{E}=\mathcal{O}_X(-q)^N\to\mathcal{F}$ erhalten. Nach \hyperref[11.5]{Satz 11.5 (iii)} und \hyperref[10.3]{Satz 10.3 (ii)} gilt für alle $i>0$ und hinreichend große $q$:
\[\operatorname{Ext}^i(\mathcal{E},\omega_X^0)\cong\bigoplus_{i=1}^N\mathrm{H}^i(X,\omega_X^0(q))=0 \]
Somit ist $\operatorname{Ext}^i(-,\omega_X^0)$ auslöschbar für $i>0$ und somit ein universeller, kontravarianter $\delta$-Funktor $\mathbf{Coh}(X)\to\mathbf{Ab}$. Da $\mathrm{H}^{n-i}(X,-)'$ auch kontravarianter $\delta$-Funktor ist, gibt es nach der Universaleigenschaft einen eindeutigen Morphismus $(\theta^i)_{i\geq 0}$ von $\delta$-Funktoren, wobei $\theta^0$ der vorgegebene ist.
\item Sei (a) erfüllt. Sei $i:X\hookrightarrow P=\mathbf{P}_k^N$ eine abgeschlossene Immersion. Für alle lokal freien Garben $\mathcal{F}$ auf $X$ und jedem abgeschlossenen Punkt $x\in X$ gilt wegen Cohen-Macaulay und Äquidimensionalität:
\[\operatorname{depth}(\mathcal{F}_x)=\dim(\mathcal{O}_{X,x})=n \]
Sei $A=\mathcal{O}_{P,x}$. Dann ist $A$ ein regulärer lokaler Ring mit $\dim(A)=N$, da $P$ nicht-singulär ist. Nach \hyperref[12.12]{Satz 12.12 (ii)} gilt:
\[\operatorname{pd}_A(i_\ast\mathcal{F}_x)=\dim(A) - \operatorname{depth}(\mathcal{F}_x)=N-n \]
Aus \hyperref[11.11]{Satz 11.11} und \hyperref[12.12]{Satz 12.12 (ii)} folgt für $i>N-n$:
\[\operatorname{\mathcal{E}xt}^i_P(i_\ast\mathcal{F},-)_x=\operatorname{Ext}^i_{\mathcal{O}_{P,x}}(i_\ast\mathcal{F}_x, -_x)=0 \]
Für $i<n$ gilt somit $\operatorname{\mathcal{E}xt}^{N-i}_P(i_\ast\mathcal{F},-)=0$. Für hinreichend große $q$ folgt nach \hyperref[9.26]{Lemma 9.26}, \hyperref[12.1]{Satz 12.1} und \hyperref[11.12]{Satz 11.12}:
\begin{align*}
\mathrm{H}^i(X,\mathcal{F}(-q))' &= \mathrm{H}^i(P,i_\ast\mathcal{F}(-q))'\\
&=\operatorname{Ext}_P^{N-i}(i_\ast\mathcal{F},\omega_P(q)) = \Gamma(P,\operatorname{\mathcal{E}xt}_P^{N-i}(i_\ast\mathcal{F},\omega_P(q)))=0
\end{align*}
Sei nun (b) erfüllt. Wie oben mit $\mathcal{F}=\mathcal{O}_X$ folgt $\operatorname{\mathcal{E}xt}^i_P(\mathcal{O}_X,\omega_P)=0$ für $i>N-n$. Da $\omega_P=\mathcal{O}_P(-N-1)$, gilt für $i>N-n$:
\[\operatorname{\mathcal{E}xt}^i_P(\mathcal{O}_X,\omega_P)=\operatorname{\mathcal{E}xt}^i_P(\mathcal{O}_X,\mathcal{O}_P)(-N-1)=0\]
Durch Halmbildung folgt $\operatorname{Ext}_A^i(\mathcal{O}_{X,x},A)=0$ für $A=\mathcal{O}_{P,x}$ und $i>N-n$. Somit gilt nach \hyperref[12.12]{Satz 12.12 (ii)} $\operatorname{pd}_A(\mathcal{O}_{X,x})\leq N-n$ und somit $\operatorname{depth}(\mathcal{O}_{X,x})\geq n=\dim(X)$. Da die andere Ungleichung stets gilt, folgt $\operatorname{depth}(\mathcal{O}_{X,x})=\dim(X)$ für alle abgeschlossenen Punkte $x\in X$. Somit ist $X$ Cohen-Macaulay, da Lokalisierungen von Cohen-Macaulay  Ringe bzgl. Primideale wieder Cohen-Macaulay sind. Es folgt (a).

Sei (b) erfüllt. Da $\operatorname{Ext}^i(-,\omega_X^0)$ universeller $\delta$-Funktor ist, reicht es für (c) zu zeigen, dass auch $\mathrm{H}^{n-i}(X,-)'$ universeller $\delta$-Funktor ist. Wir zeigen die Auslöschbarkeit. Sei $\mathcal{F}$ kohärent und $\mathcal{E}=\mathcal{O}_X(-q)^N\to\mathcal{F}$ für hinreichend große $q$ eine Surjektion. Wegen (b) ist $\mathrm{H}^{n-i}(X,\mathcal{E})'=0$ für $i>0$ und hinreichend große $q$.

Sei (c) erfüllt. Seien alle $\theta^i$ Isomorphismen und $\mathcal{F}$ lokal frei. Dann gilt nach \hyperref[10.3]{Satz 10.3} für $n-i>0$ und hinreichend große $q$:
\[\mathrm{H}^i(X,\mathcal{F}(-q))\cong\operatorname{Ext}^{n-i}(\mathcal{F}(-q),\omega_X^0)'=\mathrm{H}^{n-i}(X,\mathcal{F}^\vee\otimes\omega_X^0(q))'=0\qedhere \]
\end{enumerate}

\section{Der Satz von Riemann-Roch für Kurven}

Eine Kurve ist ein eigentliches, nicht-singuläres, integres Schema $X$ der Dimension $1$ über einem algebraisch abgeschlossenen Körper $k$. Dann ist $X$ notwendigerweise projektiv, siehe z.B. Hartshorne II Proposition 6.7. Da $X$ nicht-singulär ist, sind alle lokalen Ringe regulär und insbesondere faktoriell. Ferner stimmen die Weil-Divisoren mit den Cartier-Divisoren überein:
\[\operatorname{Div}(X)\cong\Gamma(X,\mathcal{K}^\times/\mathcal{O}^\times_X)\]
Wir haben einen Isomorphismus:
\[\operatorname{Cl}(X)\cong\operatorname{Pic}(X) \]

\paragraph{Definition 13.1.}\label{13.1} Sei $X$ eine Kurve. Dann heißt
\[g=g(X)=\dim_k\mathrm{H}^1(X,\mathcal{O}_X)=\dim_k\mathrm{H}^0(X,\omega_X)<\infty \]
das \textit{Geschlecht}\index{Geschlecht} von $X$, wobei die letzte Gleichung aus der \hyperref[12.8]{Serre-Dualität} folgt.

\paragraph{Definition 13.2.}\label{13.2} \begin{enumerate}[(i)]
\item Ein Divisor $D=\sum_i n_iP_i$ heißt \textit{effektiv}\index{Divisor!effektiv}, wenn $n_i\geq 0$ für alle $i$ gilt.
\item Für einen Divisor $D_0$ heißt die Menge $|D_0|=\{D\in\operatorname{Div}(X)\mid D\sim D_0,\ D\text{ effektiv}\}$ \textit{vollständiges lineares System}\index{vollständiges lineares System} auf $X$. Sie kann evtl. leer sein.
\end{enumerate}

\paragraph{Bemerkung 13.3.}\label{13.3} Sei $D$ ein Divisor auf einer nicht-singulären, projektiven Varietät $X$ über einem algebraisch abgeschlossenen Körper $k$. Dann ist
\[(\mathrm{H}^0(X,\mathcal{L}(D))\setminus\{0\})/k^\times\to |D|,\ s\mapsto (s)_0 \]
eine Bijektion von Mengen, wobei $(s)_0$ den Nullstellendivisor von $s$ bezeichnet. Siehe z.B. Hartshorne II Proposition 7.7.

\paragraph{Definition 13.4.}\label{13.4} Sei $D\in\operatorname{Div}(X)$. Wir definieren
\[\ell(D)=\dim_k\mathrm{H}^0(X,\mathcal{L}(D)) \]
und bezeichnen $\ell(D)-1$ als die \textit{Dimension}\index{Dimension} von $|D|$. Nach \hyperref[10.3]{Satz 10.3} ist $\ell(D)<\infty$.
